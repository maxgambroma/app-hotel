

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Change Log &mdash; CodeIgniter 3.0.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/ci-icon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/citheme.css" type="text/css" />
  

  
    <link rel="top" title="CodeIgniter 3.0.1 documentation" href="index.html"/>
        <link rel="next" title="The MIT License (MIT)" href="license.html"/>
        <link rel="prev" title="Developerâ€™s Certificate of Origin 1.1" href="DCO.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> CodeIgniter</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="general/welcome.html">Welcome to CodeIgniter</a><ul class="simple">
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation/index.html">Installation Instructions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation/downloads.html">Downloading CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation/index.html">Installation Instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation/upgrading.html">Upgrading From a Previous Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation/troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview/index.html">CodeIgniter Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview/getting_started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview/at_a_glance.html">CodeIgniter at a Glance</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview/features.html">Supported Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview/appflow.html">Application Flow Chart</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview/mvc.html">Model-View-Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview/goals.html">Architectural Goals</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial/index.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial/static_pages.html">Static pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/news_section.html">News section</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/create_news_items.html">Create news items</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/conclusion.html">Conclusion</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="general/index.html">General Topics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="general/urls.html">CodeIgniter URLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/reserved_names.html">Reserved Names</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/helpers.html">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/libraries.html">Using CodeIgniter Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/creating_libraries.html">Creating Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/drivers.html">Using CodeIgniter Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/creating_drivers.html">Creating Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/core_classes.html">Creating Core System Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/ancillary_classes.html">Creating Ancillary Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/hooks.html">Hooks - Extending the Framework Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/autoloader.html">Auto-loading Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/common_functions.html">Common Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/compatibility_functions.html">Compatibility Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/routing.html">URI Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/errors.html">Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/caching.html">Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/profiling.html">Profiling Your Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/cli.html">Running via the CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/managing_apps.html">Managing your Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/environments.html">Handling Multiple Environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/alternative_php.html">Alternate PHP Syntax for View Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/security.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="general/styleguide.html">PHP Style Guide</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="libraries/index.html">Libraries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="libraries/benchmark.html">Benchmarking Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/caching.html">Caching Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/calendar.html">Calendaring Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/cart.html">Shopping Cart Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/config.html">Config Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/email.html">Email Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/encrypt.html">Encrypt Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/encryption.html">Encryption Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/file_uploading.html">File Uploading Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/form_validation.html">Form Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/ftp.html">FTP Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/image_lib.html">Image Manipulation Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/input.html">Input Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/javascript.html">Javascript Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/language.html">Language Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/loader.html">Loader Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/migration.html">Migrations Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/output.html">Output Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/pagination.html">Pagination Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/parser.html">Template Parser Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/security.html">Security Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/sessions.html">Session Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/table.html">HTML Table Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/trackback.html">Trackback Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/typography.html">Typography Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/unit_testing.html">Unit Testing Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/uri.html">URI Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/user_agent.html">User Agent Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/xmlrpc.html">XML-RPC and XML-RPC Server Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="libraries/zip.html">Zip Encoding Class</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="database/index.html">Database Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="database/examples.html">Quick Start: Usage Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/configuration.html">Database Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/connecting.html">Connecting to a Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/queries.html">Running Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/results.html">Generating Query Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/helpers.html">Query Helper Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/query_builder.html">Query Builder Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/transactions.html">Transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/metadata.html">Getting MetaData</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/call_function.html">Custom Function Calls</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/caching.html">Query Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/forge.html">Database Manipulation with Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/utilities.html">Database Utilities Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/db_driver_reference.html">Database Driver Reference</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="helpers/index.html">Helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="helpers/array_helper.html">Array Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/captcha_helper.html">CAPTCHA Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/cookie_helper.html">Cookie Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/date_helper.html">Date Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/directory_helper.html">Directory Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/download_helper.html">Download Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/email_helper.html">Email Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/file_helper.html">File Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/form_helper.html">Form Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/html_helper.html">HTML Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/inflector_helper.html">Inflector Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/language_helper.html">Language Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/number_helper.html">Number Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/path_helper.html">Path Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/security_helper.html">Security Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/smiley_helper.html">Smiley Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/string_helper.html">String Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/text_helper.html">Text Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/typography_helper.html">Typography Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/url_helper.html">URL Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers/xml_helper.html">XML Helper</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing/index.html">Contributing to CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="documentation/index.html">Writing CodeIgniter Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="DCO.html">Developer&#8217;s Certificate of Origin 1.1</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">CodeIgniter</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Change Log</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="change-log">
<h1>Change Log<a class="headerlink" href="#change-log" title="Permalink to this headline">Â¶</a></h1>
<div class="section" id="version-3-0-1">
<h2>Version 3.0.1<a class="headerlink" href="#version-3-0-1" title="Permalink to this headline">Â¶</a></h2>
<p>Release Date: August 7, 2015</p>
<ul class="simple">
<li>Core<ul>
<li>Added DoS mitigation to <a class="reference internal" href="general/compatibility_functions.html#hash_pbkdf2" title="hash_pbkdf2"><tt class="xref php php-func docutils literal"><span class="pre">hash_pbkdf2()</span></tt></a> <a class="reference internal" href="general/compatibility_functions.html"><em>compatibility function</em></a>.</li>
</ul>
</li>
<li>Database<ul>
<li>Added <tt class="docutils literal"><span class="pre">list_fields()</span></tt> support for SQLite (&#8216;sqlite3&#8217; and &#8216;pdo_sqlite&#8217; drivers).</li>
<li>Added SSL connection support for the &#8216;mysqli&#8217; and &#8216;pdo_mysql&#8217; drivers.</li>
</ul>
</li>
<li>Libraries<ul>
<li><a class="reference internal" href="libraries/file_uploading.html"><em>File Uploading Library</em></a> changes:<ul>
<li>Changed method <tt class="docutils literal"><span class="pre">set_error()</span></tt> to accept a custom log level (defaults to &#8216;error&#8217;).</li>
<li>Errors &#8220;no_file_selected&#8221;, &#8220;file_partial&#8221;, &#8220;stopped_by_extension&#8221;, &#8220;no_file_types&#8221;, &#8220;invalid_filetype&#8221;, &#8220;bad_filename&#8221; are now logged at the &#8216;debug&#8217; level.</li>
<li>Errors &#8220;file_exceeds_limit&#8221;, &#8220;file_exceeds_form_limit&#8221;, &#8220;invalid_filesize&#8221;, &#8220;invalid_dimensions&#8221; are now logged at the &#8216;info&#8217; level.</li>
</ul>
</li>
<li>Added &#8216;is_resource&#8217; to the available expectations in <a class="reference internal" href="libraries/unit_testing.html"><em>Unit Testing Library</em></a>.</li>
</ul>
</li>
<li>Helpers<ul>
<li>Added Unicode support to <a class="reference internal" href="helpers/url_helper.html"><em>URL Helper</em></a> function <a class="reference internal" href="helpers/url_helper.html#url_title" title="url_title"><tt class="xref php php-func docutils literal"><span class="pre">url_title()</span></tt></a>.</li>
<li>Added support for passing the &#8220;extra&#8221; parameter as an array to all <a class="reference internal" href="helpers/form_helper.html"><em>Form Helper</em></a> functions that use it.</li>
</ul>
</li>
<li>Core<ul>
<li>Added support for defining a list of specific query parameters in <tt class="docutils literal"><span class="pre">$config['cache_query_string']</span></tt> for the <a class="reference internal" href="libraries/output.html"><em>Output Library</em></a>.</li>
<li>Added class existence and inheritance checks to <tt class="docutils literal"><span class="pre">CI_Loader::model()</span></tt> in order to ease debugging in case of name collisions.</li>
</ul>
</li>
</ul>
<div class="section" id="bug-fixes-for-3-0-1">
<h3>Bug fixes for 3.0.1<a class="headerlink" href="#bug-fixes-for-3-0-1" title="Permalink to this headline">Â¶</a></h3>
<ul class="simple">
<li>Fixed a bug (#3733) - Autoloading of libraries with aliases didn&#8217;t work, although it was advertised to.</li>
<li>Fixed a bug (#3744) - Redis <a class="reference internal" href="libraries/caching.html"><em>Caching</em></a> driver didn&#8217;t handle authentication failures properly.</li>
<li>Fixed a bug (#3761) - <a class="reference internal" href="helpers/url_helper.html"><em>URL Helper</em></a> function <a class="reference internal" href="helpers/url_helper.html#anchor" title="anchor"><tt class="xref php php-func docutils literal"><span class="pre">anchor()</span></tt></a> didn&#8217;t work with array inputs.</li>
<li>Fixed a bug (#3773) - <tt class="docutils literal"><span class="pre">db_select()</span></tt> didn&#8217;t work for MySQL with the PDO <a class="reference internal" href="database/index.html"><em>Database</em></a> driver.</li>
<li>Fixed a bug (#3771) - <a class="reference internal" href="libraries/form_validation.html"><em>Form Validation Library</em></a> was looking for a &#8216;form_validation_&#8217; prefix when trying to translate field name labels.</li>
<li>Fixed a bug (#3787) - <a class="reference internal" href="libraries/ftp.html"><em>FTP Library</em></a> method <tt class="docutils literal"><span class="pre">delete_dir()</span></tt> failed when the target has subdirectories.</li>
<li>Fixed a bug (#3801) - <a class="reference internal" href="libraries/output.html"><em>Output Library</em></a> method <tt class="docutils literal"><span class="pre">_display_cache()</span></tt> incorrectly looked for the last modified time of a directory instead of the cache file.</li>
<li>Fixed a bug (#3816) - <a class="reference internal" href="libraries/form_validation.html"><em>Form Validation Library</em></a> treated empty string values as non-existing ones.</li>
<li>Fixed a bug (#3823) - <a class="reference internal" href="libraries/sessions.html"><em>Session Library</em></a> drivers Redis and Memcached didn&#8217;t properly handle locks that are blocking the request for more than 30 seconds.</li>
<li>Fixed a bug (#3846) - <a class="reference internal" href="libraries/image_lib.html"><em>Image Manipulation Library</em></a> method <cite>image_mirror_gd()</cite> didn&#8217;t properly initialize its variables.</li>
<li>Fixed a bug (#3854) - <cite>field_data()</cite> didn&#8217;t work properly with the Oracle (OCI8) database driver.</li>
<li>Fixed a bug in the <a class="reference internal" href="database/utilities.html"><em>Database Utility Class</em></a> method <tt class="docutils literal"><span class="pre">csv_from_result()</span></tt> didn&#8217;t work with a whitespace CSV delimiter.</li>
<li>Fixed a bug (#3890) - <a class="reference internal" href="libraries/input.html"><em>Input Library</em></a> method <tt class="docutils literal"><span class="pre">get_request_header()</span></tt> treated header names as case-sensitive.</li>
<li>Fixed a bug (#3903) - <a class="reference internal" href="libraries/form_validation.html"><em>Form Validation Library</em></a> ignored &#8220;unnamed&#8221; closure validation rules.</li>
<li>Fixed a bug (#3904) - <a class="reference internal" href="libraries/form_validation.html"><em>Form Validation Library</em></a> ignored &#8220;named&#8221; callback rules when the field is empty and there&#8217;s no &#8216;required&#8217; rule.</li>
<li>Fixed a bug (#3922) - <a class="reference internal" href="libraries/email.html"><em>Email</em></a> and <a class="reference internal" href="libraries/xmlrpc.html"><em>XML-RPC</em></a> libraries could enter an infinite loop due to <a class="reference external" href="https://bugs.php.net/bug.php?id=39598">PHP bug #39598</a>.</li>
<li>Fixed a bug (#3913) - <a class="reference internal" href="libraries/caching.html"><em>Cache Library</em></a> didn&#8217;t work with the direct <tt class="docutils literal"><span class="pre">$this-&gt;cache-&gt;$driver_name-&gt;method()</span></tt> syntax with Redis and Memcache(d).</li>
<li>Fixed a bug (#3932) - <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> didn&#8217;t properly compile WHERE and HAVING conditions for field names that end with &#8220;and&#8221;, &#8220;or&#8221;.</li>
<li>Fixed a bug in <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> where <tt class="docutils literal"><span class="pre">delete()</span></tt> didn&#8217;t properly work on multiple tables with a WHERE condition previously set via <tt class="docutils literal"><span class="pre">where()</span></tt>.</li>
<li>Fixed a bug (#3952) - <a class="reference internal" href="database/index.html"><em>Database</em></a> method <tt class="docutils literal"><span class="pre">list_fields()</span></tt> didn&#8217;t work with SQLite3.</li>
<li>Fixed a bug (#3955) - <a class="reference internal" href="libraries/caching.html"><em>Cache Library</em></a> methods <tt class="docutils literal"><span class="pre">increment()</span></tt> and <tt class="docutils literal"><span class="pre">decrement()</span></tt> ignored the &#8216;key_prefix&#8217; setting.</li>
<li>Fixed a bug (#3963) - <a class="reference internal" href="libraries/unit_testing.html"><em>Unit Testing Library</em></a> wrongly tried to translate filenames, line numbers and notes values in test results.</li>
<li>Fixed a bug (#3965) - <a class="reference internal" href="libraries/file_uploading.html"><em>File Uploading Library</em></a> ignored the &#8220;encrypt_name&#8221; setting when &#8220;overwrite&#8221; is enabled.</li>
<li>Fixed a bug (#3968) - <a class="reference internal" href="database/forge.html"><em>Database Forge</em></a> method <tt class="docutils literal"><span class="pre">add_key()</span></tt> didn&#8217;t treat array inputs as composite keys unless it&#8217;s a PRIMARY KEY.</li>
<li>Fixed a bug (#3715) - <a class="reference internal" href="libraries/pagination.html"><em>Pagination Library</em></a> could generate broken link when a protocol-relative base URL is used.</li>
<li>Fixed a bug (#3828) - <a class="reference internal" href="libraries/output.html"><em>Output Library</em></a> method <tt class="docutils literal"><span class="pre">delete_cache()</span></tt> couldn&#8217;t delete index page caches.</li>
<li>Fixed a bug (#3704) - <a class="reference internal" href="database/index.html"><em>Database</em></a> method <tt class="docutils literal"><span class="pre">stored_procedure()</span></tt> in the &#8216;oci8&#8217; driver didn&#8217;t properly bind parameters.</li>
<li>Fixed a bug (#3778) - <a class="reference internal" href="helpers/download_helper.html"><em>Download Helper</em></a> function <a class="reference internal" href="helpers/download_helper.html#force_download" title="force_download"><tt class="xref php php-func docutils literal"><span class="pre">force_download()</span></tt></a> incorrectly sent a <em>Pragma</em> response header.</li>
<li>Fixed a bug (#3752) - <tt class="docutils literal"><span class="pre">$routing['directory']</span></tt> overrides were not properly handled and always resulted in a 404 &#8220;Not Found&#8221; error.</li>
<li>Fixed a bug (#3279) - <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> methods <tt class="docutils literal"><span class="pre">update()</span></tt> and <tt class="docutils literal"><span class="pre">get_compiled_update()</span></tt> did double escaping on the table name if it was provided via <tt class="docutils literal"><span class="pre">from()</span></tt>.</li>
<li>Fixed a bug (#3991) - <tt class="docutils literal"><span class="pre">$config['rewrite_short_tags']</span></tt> never worked due to <tt class="docutils literal"><span class="pre">function_exists('eval')</span></tt> always returning FALSE.</li>
<li>Fixed a bug where the <a class="reference internal" href="libraries/file_uploading.html"><em>File Uploading Library</em></a> library will not properly configure its maximum file size unless the input value is of type integer.</li>
<li>Fixed a bug (#4000) - <a class="reference internal" href="libraries/pagination.html"><em>Pagination Library</em></a> didn&#8217;t enable &#8220;rel&#8221; attributes by default if no attributes-related config options were used.</li>
<li>Fixed a bug (#4004) - <a class="reference internal" href="libraries/uri.html"><em>URI Class</em></a> didn&#8217;t properly parse the request URI if it contains a colon followed by a digit.</li>
<li>Fixed a bug in <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> where the <tt class="docutils literal"><span class="pre">$escape</span></tt> parameter for some methods only affected field names.</li>
<li>Fixed a bug (#4012) - <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> methods <tt class="docutils literal"><span class="pre">where_in()</span></tt>, <tt class="docutils literal"><span class="pre">or_where_in()</span></tt>, <tt class="docutils literal"><span class="pre">where_not_in()</span></tt>, <tt class="docutils literal"><span class="pre">or_where_not_in()</span></tt> didn&#8217;t take into account previously cached WHERE conditions when query cache is in use.</li>
<li>Fixed a bug (#4015) - <a class="reference internal" href="libraries/email.html"><em>Email Library</em></a> method <tt class="docutils literal"><span class="pre">set_header()</span></tt> didn&#8217;t support method chaining, although it was advertised.</li>
<li>Fixed a bug (#4027) - <a class="reference internal" href="general/routing.html"><em>Routing</em></a> with HTTP verbs only worked if the route request method was declared in all-lowercase letters.</li>
<li>Fixed a bug (#4026) - <a class="reference internal" href="database/transactions.html"><em>Database Transactions</em></a> always rollback if any previous <tt class="docutils literal"><span class="pre">query()</span></tt> call fails.</li>
<li>Fixed a bug (#4023) - <a class="reference internal" href="helpers/string_helper.html"><em>String Helper</em></a> function <tt class="docutils literal"><span class="pre">increment_string()</span></tt> didn&#8217;t escape its <tt class="docutils literal"><span class="pre">$separator</span></tt> parameter.</li>
</ul>
</div>
</div>
<div class="section" id="version-3-0-0">
<h2>Version 3.0.0<a class="headerlink" href="#version-3-0-0" title="Permalink to this headline">Â¶</a></h2>
<p>Release Date: March 30, 2015</p>
<ul class="simple">
<li>License<ul>
<li>CodeIgniter has been relicensed with the <a class="reference external" href="http://opensource.org/licenses/MIT">MIT License</a>, eliminating its old proprietary licensing.</li>
</ul>
</li>
<li>General Changes<ul>
<li>PHP 5.1.6 is no longer supported. CodeIgniter now requires PHP 5.2.4 and recommends PHP 5.4+ or newer to be used.</li>
<li>Changed filenaming convention (class file names now must be Ucfirst and everything else in lowercase).</li>
<li>Changed the default database driver to &#8216;mysqli&#8217; (the old &#8216;mysql&#8217; driver is DEPRECATED).</li>
<li><tt class="docutils literal"><span class="pre">$_SERVER['CI_ENV']</span></tt> can now be set to control the <tt class="docutils literal"><span class="pre">ENVIRONMENT</span></tt> constant.</li>
<li>Added an optional backtrace to php-error template.</li>
<li>Added Android to the list of user agents.</li>
<li>Added Windows 7, Windows 8, Windows 8.1, Android, Blackberry, iOS and PlayStation 3 to the list of user platforms.</li>
<li>Added Fennec (Firefox for mobile) to the list of mobile user agents.</li>
<li>Ability to log certain error types, not all under a threshold.</li>
<li>Added support for pem, p10, p12, p7a, p7c, p7m, p7r, p7s, crt, crl, der, kdb, rsa, cer, sst, csr Certs to mimes.php.</li>
<li>Added support for pgp, gpg, zsh and cdr files to mimes.php.</li>
<li>Added support for 3gp, 3g2, mp4, wmv, f4v, vlc Video files to mimes.php.</li>
<li>Added support for m4a, aac, m4u, xspf, au, ac3, flac, ogg, wma Audio files to mimes.php.</li>
<li>Added support for kmz and kml (Google Earth) files to mimes.php.</li>
<li>Added support for ics Calendar files to mimes.php.</li>
<li>Added support for rar, jar and 7zip archives to mimes.php.</li>
<li>Updated support for xml (&#8216;application/xml&#8217;) and xsl (&#8216;application/xml&#8217;, &#8216;text/xsl&#8217;) files in mimes.php.</li>
<li>Updated support for doc files in mimes.php.</li>
<li>Updated support for docx files in mimes.php.</li>
<li>Updated support for php files in mimes.php.</li>
<li>Updated support for zip files in mimes.php.</li>
<li>Updated support for csv files in mimes.php.</li>
<li>Added Romanian, Greek, Vietnamese and Cyrilic characters in <em>application/config/foreign_characters.php</em>.</li>
<li>Changed logger to only chmod when file is first created.</li>
<li>Removed previously deprecated SHA1 Library.</li>
<li>Removed previously deprecated use of <tt class="docutils literal"><span class="pre">$autoload['core']</span></tt> in <em>application/config/autoload.php</em>.
Only entries in <tt class="docutils literal"><span class="pre">$autoload['libraries']</span></tt> are auto-loaded now.</li>
<li>Removed previously deprecated EXT constant.</li>
<li>Updated all classes to be written in PHP 5 style, with visibility declarations and no <tt class="docutils literal"><span class="pre">var</span></tt> usage for properties.</li>
<li>Added an Exception handler.</li>
<li>Moved error templates to <em>application/views/errors/</em> and made the path configurable via <tt class="docutils literal"><span class="pre">$config['error_views_path']</span></tt>.</li>
<li>Added support non-HTML error templates for CLI applications.</li>
<li>Moved the Log class to <em>application/core/</em></li>
<li>Global config files are loaded first, then environment ones. Environment config keys overwrite base ones, allowing to only set the keys we want changed per environment.</li>
<li>Changed detection of <tt class="docutils literal"><span class="pre">$view_folder</span></tt> so that if it&#8217;s not found in the current path, it will now also be searched for under the application folder.</li>
<li>Path constants BASEPATH, APPPATH and VIEWPATH are now (internally) defined as absolute paths.</li>
<li>Updated email validation methods to use <tt class="docutils literal"><span class="pre">filter_var()</span></tt> instead of PCRE.</li>
<li>Changed environment defaults to report all errors in <em>development</em> and only fatal ones in <em>testing</em>, <em>production</em> but only display them in <em>development</em>.</li>
<li>Updated <em>ip_address</em> database field lengths from 16 to 45 for supporting IPv6 address on <a class="reference internal" href="libraries/trackback.html"><em>Trackback Library</em></a> and <a class="reference internal" href="helpers/captcha_helper.html"><em>Captcha Helper</em></a>.</li>
<li>Removed <em>cheatsheets</em> and <em>quick_reference</em> PDFs from the documentation.</li>
<li>Added availability checks where usage of dangerous functions like <tt class="docutils literal"><span class="pre">eval()</span></tt> and <tt class="docutils literal"><span class="pre">exec()</span></tt> is required.</li>
<li>Added support for changing the file extension of log files using <tt class="docutils literal"><span class="pre">$config['log_file_extension']</span></tt>.</li>
<li>Added support for turning newline standardization on/off via <tt class="docutils literal"><span class="pre">$config['standardize_newlines']</span></tt> and set it to FALSE by default.</li>
<li>Added configuration setting <tt class="docutils literal"><span class="pre">$config['composer_autoload']</span></tt> to enable loading of a <a class="reference external" href="https://getcomposer.org">Composer</a> auto-loader.</li>
<li>Removed the automatic conversion of &#8216;programmatic characters&#8217; to HTML entities from the <a class="reference internal" href="libraries/uri.html"><em>URI Library</em></a>.</li>
<li>Changed log messages that say a class or file was loaded to &#8220;info&#8221; level instead of &#8220;debug&#8221;, so that they don&#8217;t pollute log files when <tt class="docutils literal"><span class="pre">$config['log_threshold']</span></tt> is set to 2 (debug).</li>
</ul>
</li>
<li>Helpers<ul>
<li><a class="reference internal" href="helpers/date_helper.html"><em>Date Helper</em></a> changes include:<ul>
<li>Added an optional third parameter to <a class="reference internal" href="helpers/date_helper.html#timespan" title="timespan"><tt class="xref php php-func docutils literal"><span class="pre">timespan()</span></tt></a> that constrains the number of time units displayed.</li>
<li>Added an optional parameter to <a class="reference internal" href="helpers/date_helper.html#timezone_menu" title="timezone_menu"><tt class="xref php php-func docutils literal"><span class="pre">timezone_menu()</span></tt></a> that allows more attributes to be added to the generated select tag.</li>
<li>Added function <a class="reference internal" href="helpers/date_helper.html#date_range" title="date_range"><tt class="xref php php-func docutils literal"><span class="pre">date_range()</span></tt></a> that generates a list of dates between a specified period.</li>
<li>Deprecated <tt class="docutils literal"><span class="pre">standard_date()</span></tt>, which now just uses the native <tt class="docutils literal"><span class="pre">date()</span></tt> with <a class="reference external" href="http://php.net/manual/en/class.datetime.php#datetime.constants.types">DateTime constants</a>.</li>
<li>Changed <a class="reference internal" href="helpers/date_helper.html#now" title="now"><tt class="xref php php-func docutils literal"><span class="pre">now()</span></tt></a> to work with all timezone strings supported by PHP.</li>
<li>Changed <a class="reference internal" href="helpers/date_helper.html#days_in_month" title="days_in_month"><tt class="xref php php-func docutils literal"><span class="pre">days_in_month()</span></tt></a> to use the native <tt class="docutils literal"><span class="pre">cal_days_in_month()</span></tt> PHP function, if available.</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/url_helper.html"><em>URL Helper</em></a> changes include:<ul>
<li>Deprecated <em>separator</em> options <strong>dash</strong> and <strong>underscore</strong> for function <a class="reference internal" href="helpers/url_helper.html#url_title" title="url_title"><tt class="xref php php-func docutils literal"><span class="pre">url_title()</span></tt></a> (they are only aliases for &#8216;-&#8216; and &#8216;_&#8217; respectively).</li>
<li><a class="reference internal" href="helpers/url_helper.html#url_title" title="url_title"><tt class="xref php php-func docutils literal"><span class="pre">url_title()</span></tt></a> will now trim extra dashes from beginning and end.</li>
<li><a class="reference internal" href="helpers/url_helper.html#anchor_popup" title="anchor_popup"><tt class="xref php php-func docutils literal"><span class="pre">anchor_popup()</span></tt></a> will now fill the <em>href</em> attribute with the URL and its JS code will return FALSE instead.</li>
<li>Added JS window name support to the <a class="reference internal" href="helpers/url_helper.html#anchor_popup" title="anchor_popup"><tt class="xref php php-func docutils literal"><span class="pre">anchor_popup()</span></tt></a> function.</li>
<li>Added support for menubar attribute to the <a class="reference internal" href="helpers/url_helper.html#anchor_popup" title="anchor_popup"><tt class="xref php php-func docutils literal"><span class="pre">anchor_popup()</span></tt></a>.</li>
<li>Added support (auto-detection) for HTTP/1.1 response codes 303, 307 in <a class="reference internal" href="helpers/url_helper.html#redirect" title="redirect"><tt class="xref php php-func docutils literal"><span class="pre">redirect()</span></tt></a>.</li>
<li>Changed <a class="reference internal" href="helpers/url_helper.html#redirect" title="redirect"><tt class="xref php php-func docutils literal"><span class="pre">redirect()</span></tt></a> to choose the <strong>refresh</strong> method only on IIS servers, instead of all servers on Windows (when <strong>auto</strong> is used).</li>
<li>Changed <a class="reference internal" href="helpers/url_helper.html#anchor" title="anchor"><tt class="xref php php-func docutils literal"><span class="pre">anchor()</span></tt></a>, <a class="reference internal" href="helpers/url_helper.html#anchor_popup" title="anchor_popup"><tt class="xref php php-func docutils literal"><span class="pre">anchor_popup()</span></tt></a>, and <a class="reference internal" href="helpers/url_helper.html#redirect" title="redirect"><tt class="xref php php-func docutils literal"><span class="pre">redirect()</span></tt></a> to support protocol-relative URLs (e.g. <em>//ellislab.com/codeigniter</em>).</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/html_helper.html"><em>HTML Helper</em></a> changes include:<ul>
<li>Added more doctypes.</li>
<li>Changed application and environment config files to be loaded in a cascade-like manner.</li>
<li>Changed <a class="reference internal" href="helpers/html_helper.html#doctype" title="doctype"><tt class="xref php php-func docutils literal"><span class="pre">doctype()</span></tt></a> to cache and only load once the doctypes array.</li>
<li>Deprecated functions <tt class="docutils literal"><span class="pre">nbs()</span></tt> and <tt class="docutils literal"><span class="pre">br()</span></tt>, which are just aliases for the native <tt class="docutils literal"><span class="pre">str_repeat()</span></tt> with <tt class="docutils literal"><span class="pre">&amp;nbsp;</span></tt> and <tt class="docutils literal"><span class="pre">&lt;br</span> <span class="pre">/&gt;</span></tt> respectively.</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/inflector_helper.html"><em>Inflector Helper</em></a> changes include:<ul>
<li>Changed <a class="reference internal" href="helpers/inflector_helper.html#humanize" title="humanize"><tt class="xref php php-func docutils literal"><span class="pre">humanize()</span></tt></a> to allow passing an input separator as its second parameter.</li>
<li>Changed <a class="reference internal" href="helpers/inflector_helper.html#humanize" title="humanize"><tt class="xref php php-func docutils literal"><span class="pre">humanize()</span></tt></a> and <a class="reference internal" href="helpers/inflector_helper.html#underscore" title="underscore"><tt class="xref php php-func docutils literal"><span class="pre">underscore()</span></tt></a> to utilize <a class="reference external" href="http://php.net/mbstring">mbstring</a>, if available.</li>
<li>Changed <a class="reference internal" href="helpers/inflector_helper.html#plural" title="plural"><tt class="xref php php-func docutils literal"><span class="pre">plural()</span></tt></a> and <a class="reference internal" href="helpers/inflector_helper.html#singular" title="singular"><tt class="xref php php-func docutils literal"><span class="pre">singular()</span></tt></a> to avoid double pluralization and support more words.</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/download_helper.html"><em>Download Helper</em></a> changes include:<ul>
<li>Added an optional third parameter to <a class="reference internal" href="helpers/download_helper.html#force_download" title="force_download"><tt class="xref php php-func docutils literal"><span class="pre">force_download()</span></tt></a> that enables/disables sending the actual file MIME type in the Content-Type header (disabled by default).</li>
<li>Added a work-around in <a class="reference internal" href="helpers/download_helper.html#force_download" title="force_download"><tt class="xref php php-func docutils literal"><span class="pre">force_download()</span></tt></a> for a bug Android &lt;= 2.1, where the filename extension needs to be in uppercase.</li>
<li>Added support for reading from an existing file path by passing NULL as the second parameter to <a class="reference internal" href="helpers/download_helper.html#force_download" title="force_download"><tt class="xref php php-func docutils literal"><span class="pre">force_download()</span></tt></a> (useful for large files and/or safely transmitting binary data).</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/form_helper.html"><em>Form Helper</em></a> changes include:<ul>
<li><a class="reference internal" href="helpers/form_helper.html#form_dropdown" title="form_dropdown"><tt class="xref php php-func docutils literal"><span class="pre">form_dropdown()</span></tt></a> will now also take an array for unity with other form helpers.</li>
<li><a class="reference internal" href="helpers/form_helper.html#form_prep" title="form_prep"><tt class="xref php php-func docutils literal"><span class="pre">form_prep()</span></tt></a> is now DEPRECATED and only acts as an alias for <a class="reference internal" href="general/common_functions.html"><em>common function</em></a> <a class="reference internal" href="general/common_functions.html#html_escape" title="html_escape"><tt class="xref php php-func docutils literal"><span class="pre">html_escape()</span></tt></a>.</li>
<li><a class="reference internal" href="helpers/form_helper.html#set_value" title="set_value"><tt class="xref php php-func docutils literal"><span class="pre">set_value()</span></tt></a> will now also accept a third argument, allowing to turn off HTML escaping of the value.</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/security_helper.html"><em>Security Helper</em></a> changes include:<ul>
<li><a class="reference internal" href="helpers/security_helper.html#do_hash" title="do_hash"><tt class="xref php php-func docutils literal"><span class="pre">do_hash()</span></tt></a> now uses PHP&#8217;s native <tt class="docutils literal"><span class="pre">hash()</span></tt> function (supporting more algorithms) and is deprecated.</li>
<li><a class="reference internal" href="helpers/security_helper.html#strip_image_tags" title="strip_image_tags"><tt class="xref php php-func docutils literal"><span class="pre">strip_image_tags()</span></tt></a> is now an alias for the same method in the <a class="reference internal" href="libraries/security.html"><em>Security Library</em></a>.</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/smiley_helper.html"><em>Smiley Helper</em></a> changes include:<ul>
<li>Deprecated the whole helper as too specific for CodeIgniter.</li>
<li>Removed previously deprecated function <tt class="docutils literal"><span class="pre">js_insert_smiley()</span></tt>.</li>
<li>Changed application and environment config files to be loaded in a cascade-like manner.</li>
<li>The smileys array is now cached and loaded only once.</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/file_helper.html"><em>File Helper</em></a> changes include:<ul>
<li><a class="reference internal" href="helpers/path_helper.html#set_realpath" title="set_realpath"><tt class="xref php php-func docutils literal"><span class="pre">set_realpath()</span></tt></a> can now also handle file paths as opposed to just directories.</li>
<li>Added an optional paramater to <a class="reference internal" href="helpers/file_helper.html#delete_files" title="delete_files"><tt class="xref php php-func docutils literal"><span class="pre">delete_files()</span></tt></a> to enable it to skip deleting files such as <em>.htaccess</em> and <em>index.html</em>.</li>
<li>Deprecated function <tt class="docutils literal"><span class="pre">read_file()</span></tt> - it&#8217;s just an alias for PHP&#8217;s native <tt class="docutils literal"><span class="pre">file_get_contents()</span></tt>.</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/string_helper.html"><em>String Helper</em></a> changes include:<ul>
<li>Deprecated function <tt class="docutils literal"><span class="pre">repeater()</span></tt> - it&#8217;s just an alias for PHP&#8217;s native <tt class="docutils literal"><span class="pre">str_repeat()</span></tt>.</li>
<li>Deprecated function <tt class="docutils literal"><span class="pre">trim_slashes()</span></tt> - it&#8217;s just an alias for PHP&#8217;s native <tt class="docutils literal"><span class="pre">trim()</span></tt> (with a slash as its second argument).</li>
<li>Deprecated randomization type options <strong>unique</strong> and <strong>encrypt</strong> for funcion <a class="reference internal" href="helpers/string_helper.html#random_string" title="random_string"><tt class="xref php php-func docutils literal"><span class="pre">random_string()</span></tt></a> (they are only aliases for <strong>md5</strong> and <strong>sha1</strong> respectively).</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/captcha_helper.html"><em>CAPTCHA Helper</em></a> changes include:<ul>
<li>Added <em>word_length</em> and <em>pool</em> options to allow customization of the generated word.</li>
<li>Added <em>colors</em> configuration to allow customization for the <em>background</em>, <em>border</em>, <em>text</em> and <em>grid</em> colors.</li>
<li>Added <em>filename</em> to the returned array elements.</li>
<li>Updated to use <cite>imagepng()</cite> in case that <cite>imagejpeg()</cite> isn&#8217;t available.</li>
<li>Added <strong>font_size</strong> option to allow customization of font size.</li>
<li>Added <strong>img_id</strong> option to set id attribute of captcha image.</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/text_helper.html"><em>Text Helper</em></a> changes include:<ul>
<li>Changed the default tag for use in <a class="reference internal" href="helpers/text_helper.html#highlight_phrase" title="highlight_phrase"><tt class="xref php php-func docutils literal"><span class="pre">highlight_phrase()</span></tt></a> to <tt class="docutils literal"><span class="pre">&lt;mark&gt;</span></tt> (formerly <tt class="docutils literal"><span class="pre">&lt;strong&gt;</span></tt>).</li>
<li>Changed <a class="reference internal" href="helpers/text_helper.html#character_limiter" title="character_limiter"><tt class="xref php php-func docutils literal"><span class="pre">character_limiter()</span></tt></a>, <a class="reference internal" href="helpers/text_helper.html#word_wrap" title="word_wrap"><tt class="xref php php-func docutils literal"><span class="pre">word_wrap()</span></tt></a> and <a class="reference internal" href="helpers/text_helper.html#ellipsize" title="ellipsize"><tt class="xref php php-func docutils literal"><span class="pre">ellipsize()</span></tt></a> to utilize <a class="reference external" href="http://php.net/mbstring">mbstring</a> or <a class="reference external" href="http://php.net/iconv">iconv</a>, if available.</li>
</ul>
</li>
<li><a class="reference internal" href="helpers/directory_helper.html"><em>Directory Helper</em></a> <a class="reference internal" href="helpers/directory_helper.html#directory_map" title="directory_map"><tt class="xref php php-func docutils literal"><span class="pre">directory_map()</span></tt></a> will now append <tt class="docutils literal"><span class="pre">DIRECTORY_SEPARATOR</span></tt> to directory names in the returned array.</li>
<li><a class="reference internal" href="helpers/array_helper.html"><em>Array Helper</em></a> <a class="reference internal" href="helpers/array_helper.html#element" title="element"><tt class="xref php php-func docutils literal"><span class="pre">element()</span></tt></a> and <a class="reference internal" href="helpers/array_helper.html#elements" title="elements"><tt class="xref php php-func docutils literal"><span class="pre">elements()</span></tt></a> now return NULL instead of FALSE when the required elements don&#8217;t exist.</li>
<li><a class="reference internal" href="helpers/language_helper.html"><em>Language Helper</em></a> <a class="reference internal" href="helpers/language_helper.html#lang" title="lang"><tt class="xref php php-func docutils literal"><span class="pre">lang()</span></tt></a> now accepts an optional list of additional HTML attributes.</li>
<li>Deprecated the <a class="reference internal" href="helpers/email_helper.html"><em>Email Helper</em></a> as its <tt class="docutils literal"><span class="pre">valid_email()</span></tt>, <tt class="docutils literal"><span class="pre">send_email()</span></tt> functions are now only aliases for PHP native functions <tt class="docutils literal"><span class="pre">filter_var()</span></tt> and <tt class="docutils literal"><span class="pre">mail()</span></tt> respectively.</li>
</ul>
</li>
<li>Database<ul>
<li>DEPRECATED the &#8216;mysql&#8217;, &#8216;sqlite&#8217;, &#8216;mssql&#8217; and &#8216;pdo/dblib&#8217; (also known as &#8216;pdo/mssql&#8217; or &#8216;pdo/sybase&#8217;) drivers.</li>
<li>Added <strong>dsn</strong> configuration setting for drivers that support DSN strings (PDO, PostgreSQL, Oracle, ODBC, CUBRID).</li>
<li>Added <strong>schema</strong> configuration setting (defaults to <em>public</em>) for drivers that might need it (currently used by PostgreSQL and ODBC).</li>
<li>Added <strong>save_queries</strong> configuration setting to <em>application/config/database.php</em> (defaults to <tt class="docutils literal"><span class="pre">TRUE</span></tt>).</li>
<li>Removed <strong>autoinit</strong> configuration setting as it doesn&#8217;t make sense to instantiate the database class but not connect to the database.</li>
<li>Added subdrivers support (currently only used by PDO).</li>
<li>Added an optional database name parameter to <tt class="docutils literal"><span class="pre">db_select()</span></tt>.</li>
<li>Removed <tt class="docutils literal"><span class="pre">protect_identifiers()</span></tt> and renamed internal method <tt class="docutils literal"><span class="pre">_protect_identifiers()</span></tt> to it instead - it was just an alias.</li>
<li>Renamed internal method <tt class="docutils literal"><span class="pre">_escape_identifiers()</span></tt> to <tt class="docutils literal"><span class="pre">escape_identifiers()</span></tt>.</li>
<li>Updated <tt class="docutils literal"><span class="pre">escape_identifiers()</span></tt> to accept an array of fields as well as strings.</li>
<li>MySQL and MySQLi drivers now require at least MySQL version 5.1.</li>
<li>Added a <tt class="docutils literal"><span class="pre">$persistent</span></tt> parameter to <tt class="docutils literal"><span class="pre">db_connect()</span></tt> and changed <tt class="docutils literal"><span class="pre">db_pconnect()</span></tt> to be an alias for <tt class="docutils literal"><span class="pre">db_connect(TRUE)</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">db_set_charset()</span></tt> now only requires one parameter (collation was only needed due to legacy support for MySQL versions prior to 5.1).</li>
<li><tt class="docutils literal"><span class="pre">db_select()</span></tt> will now always (if required by the driver) be called by <tt class="docutils literal"><span class="pre">db_connect()</span></tt> instead of only when initializing.</li>
<li>Replaced the <tt class="docutils literal"><span class="pre">_error_message()</span></tt> and <tt class="docutils literal"><span class="pre">_error_number()</span></tt> methods with <tt class="docutils literal"><span class="pre">error()</span></tt>, which returns an array containing the last database error code and message.</li>
<li>Improved <tt class="docutils literal"><span class="pre">version()</span></tt> implementation so that drivers that have a native function to get the version number don&#8217;t have to be defined in the core <tt class="docutils literal"><span class="pre">DB_driver</span></tt> class.</li>
<li>Added capability for packages to hold <em>config/database.php</em> config files.</li>
<li>Added MySQL client compression support.</li>
<li>Added encrypted connections support (for <em>mysql</em>, <em>sqlsrv</em> and PDO with <em>sqlsrv</em>).</li>
<li>Removed <a class="reference internal" href="libraries/loader.html"><em>Loader Class</em></a> from Database error tracing to better find the likely culprit.</li>
<li>Added support for SQLite3 database driver.</li>
<li>Added Interbase/Firebird database support via the <em>ibase</em> driver.</li>
<li>Added ODBC support for <tt class="docutils literal"><span class="pre">create_database()</span></tt>, <tt class="docutils literal"><span class="pre">drop_database()</span></tt> and <tt class="docutils literal"><span class="pre">drop_table()</span></tt> in <a class="reference internal" href="database/forge.html"><em>Database Forge</em></a>.</li>
<li>Added support to binding arrays as <tt class="docutils literal"><span class="pre">IN()</span></tt> sets in <tt class="docutils literal"><span class="pre">query()</span></tt>.</li>
<li><a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> changes include:<ul>
<li>Renamed the Active Record class to Query Builder to remove confusion with the Active Record design pattern.</li>
<li>Added the ability to insert objects with <tt class="docutils literal"><span class="pre">insert_batch()</span></tt>.</li>
<li>Added new methods that return the SQL string of queries without executing them: <tt class="docutils literal"><span class="pre">get_compiled_select()</span></tt>, <tt class="docutils literal"><span class="pre">get_compiled_insert()</span></tt>, <tt class="docutils literal"><span class="pre">get_compiled_update()</span></tt>, <tt class="docutils literal"><span class="pre">get_compiled_delete()</span></tt>.</li>
<li>Added an optional parameter that allows to disable escaping (useful for custom fields) for methods <tt class="docutils literal"><span class="pre">join()</span></tt>, <tt class="docutils literal"><span class="pre">order_by()</span></tt>, <tt class="docutils literal"><span class="pre">where_in()</span></tt>, <tt class="docutils literal"><span class="pre">or_where_in()</span></tt>, <tt class="docutils literal"><span class="pre">where_not_in()</span></tt>, <tt class="docutils literal"><span class="pre">or_where_not_in()</span></tt>, <tt class="docutils literal"><span class="pre">insert()</span></tt>, <tt class="docutils literal"><span class="pre">insert_batch()</span></tt>.</li>
<li>Added support for <tt class="docutils literal"><span class="pre">join()</span></tt> with multiple conditions.</li>
<li>Added support for <em>USING</em> in <tt class="docutils literal"><span class="pre">join()</span></tt>.</li>
<li>Added support for <em>EXISTS</em> in <tt class="docutils literal"><span class="pre">where()</span></tt>.</li>
<li>Added seed values support for random ordering with <tt class="docutils literal"><span class="pre">order_by(seed,</span> <span class="pre">'RANDOM')</span></tt>.</li>
<li>Changed <tt class="docutils literal"><span class="pre">limit()</span></tt> to ignore NULL values instead of always casting to integer.</li>
<li>Changed <tt class="docutils literal"><span class="pre">offset()</span></tt> to ignore empty values instead of always casting to integer.</li>
<li>Methods <tt class="docutils literal"><span class="pre">insert_batch()</span></tt> and <tt class="docutils literal"><span class="pre">update_batch()</span></tt> now return an integer representing the number of rows affected by them.</li>
<li>Methods <tt class="docutils literal"><span class="pre">where()</span></tt>, <tt class="docutils literal"><span class="pre">or_where()</span></tt>, <tt class="docutils literal"><span class="pre">having()</span></tt> and <tt class="docutils literal"><span class="pre">or_having()</span></tt> now convert trailing  <tt class="docutils literal"><span class="pre">=</span></tt> and <tt class="docutils literal"><span class="pre">&lt;&gt;</span></tt>,  <tt class="docutils literal"><span class="pre">!=</span></tt> SQL operators to <tt class="docutils literal"><span class="pre">IS</span> <span class="pre">NULL</span></tt> and <tt class="docutils literal"><span class="pre">IS</span> <span class="pre">NOT</span> <span class="pre">NULL</span></tt> respectively when the supplied comparison value is <tt class="docutils literal"><span class="pre">NULL</span></tt>.</li>
<li>Added method chaining support to <tt class="docutils literal"><span class="pre">reset_query()</span></tt>, <tt class="docutils literal"><span class="pre">start_cache()</span></tt>, <tt class="docutils literal"><span class="pre">stop_cache()</span></tt> and <tt class="docutils literal"><span class="pre">flush_cache()</span></tt>.</li>
<li>Added an optional second parameter to <tt class="docutils literal"><span class="pre">count_all_results()</span></tt> to disable resetting of QB values.</li>
</ul>
</li>
<li><a class="reference internal" href="database/results.html"><em>Database Results</em></a> changes include:<ul>
<li>Added a constructor to the <tt class="docutils literal"><span class="pre">DB_result</span></tt> class and moved all driver-specific properties and logic out of the base <tt class="docutils literal"><span class="pre">DB_driver</span></tt> class to allow better abstraction.</li>
<li>Added method <tt class="docutils literal"><span class="pre">unbuffered_row()</span></tt> for fetching a row without prefetching the whole result (consume less memory).</li>
<li>Renamed former method <tt class="docutils literal"><span class="pre">_data_seek()</span></tt> to <tt class="docutils literal"><span class="pre">data_seek()</span></tt> and made it public.</li>
</ul>
</li>
<li>Improved support for the MySQLi driver, including:<ul>
<li>OOP style usage of the PHP extension is now used, instead of the procedural aliases.</li>
<li>Server version checking is now done via <tt class="docutils literal"><span class="pre">mysqli::$server_info</span></tt> instead of running an SQL query.</li>
<li>Added persistent connections support for PHP &gt;= 5.3.</li>
<li>Added support for configuring socket pipe connections.</li>
<li>Added support for <tt class="docutils literal"><span class="pre">backup()</span></tt> in <a class="reference internal" href="database/utilities.html"><em>Database Utilities</em></a>.</li>
<li>Changed methods <tt class="docutils literal"><span class="pre">trans_begin()</span></tt>, <tt class="docutils literal"><span class="pre">trans_commit()</span></tt> and <tt class="docutils literal"><span class="pre">trans_rollback()</span></tt> to use the PHP API instead of sending queries.</li>
</ul>
</li>
<li>Improved support of the PDO driver, including:<ul>
<li>Added support for <tt class="docutils literal"><span class="pre">create_database()</span></tt>, <tt class="docutils literal"><span class="pre">drop_database()</span></tt> and <tt class="docutils literal"><span class="pre">drop_table()</span></tt> in <a class="reference internal" href="database/forge.html"><em>Database Forge</em></a>.</li>
<li>Added support for <tt class="docutils literal"><span class="pre">list_fields()</span></tt> in <a class="reference internal" href="database/results.html"><em>Database Results</em></a>.</li>
<li>Subdrivers are now isolated from each other instead of being in one large class.</li>
</ul>
</li>
<li>Improved support of the PostgreSQL driver, including:<ul>
<li><tt class="docutils literal"><span class="pre">pg_version()</span></tt> is now used to get the database version number, when possible.</li>
<li>Added <tt class="docutils literal"><span class="pre">db_set_charset()</span></tt> support.</li>
<li>Added support for <tt class="docutils literal"><span class="pre">optimize_table()</span></tt> in <a class="reference internal" href="database/utilities.html"><em>Database Utilities</em></a> (rebuilds table indexes).</li>
<li>Added boolean data type support in <tt class="docutils literal"><span class="pre">escape()</span></tt>.</li>
<li>Added <tt class="docutils literal"><span class="pre">update_batch()</span></tt> support.</li>
<li>Removed <tt class="docutils literal"><span class="pre">limit()</span></tt> and <tt class="docutils literal"><span class="pre">order_by()</span></tt> support for <em>UPDATE</em> and <em>DELETE</em> queries as PostgreSQL does not support those features.</li>
<li>Added a work-around for dead persistent connections to be re-created after a database restart.</li>
<li>Changed <tt class="docutils literal"><span class="pre">db_connect()</span></tt> to include the (new) <strong>schema</strong> value into Postgre&#8217;s <strong>search_path</strong> session variable.</li>
<li><tt class="docutils literal"><span class="pre">pg_escape_literal()</span></tt> is now used for escaping strings, if available.</li>
</ul>
</li>
<li>Improved support of the CUBRID driver, including:<ul>
<li>Added DSN string support.</li>
<li>Added persistent connections support.</li>
<li>Improved <tt class="docutils literal"><span class="pre">list_databases()</span></tt> in <a class="reference internal" href="database/utilities.html"><em>Database Utility</em></a> (until now only the currently used database was returned).</li>
</ul>
</li>
<li>Improved support of the MSSQL and SQLSRV drivers, including:<ul>
<li>Added random ordering support.</li>
<li>Added support for <tt class="docutils literal"><span class="pre">optimize_table()</span></tt> in <a class="reference internal" href="database/utilities.html"><em>Database Utility</em></a>.</li>
<li>Added escaping with <em>QUOTE_IDENTIFIER</em> setting detection.</li>
<li>Added port handling support for UNIX-based systems (MSSQL driver).</li>
<li>Added <em>OFFSET</em> support for SQL Server 2005 and above.</li>
<li>Added <tt class="docutils literal"><span class="pre">db_set_charset()</span></tt> support (MSSQL driver).</li>
<li>Added a <em>scrollable</em> property to enable configuration of the cursor to use (SQLSRV driver).</li>
<li>Added support and auto-detection for the <tt class="docutils literal"><span class="pre">SQLSRV_CURSOR_CLIENT_BUFFERED</span></tt> scrollable cursor flag (SQLSRV driver).</li>
<li>Changed default behavior to not use <tt class="docutils literal"><span class="pre">SQLSRV_CURSOR_STATIC</span></tt> due to performance issues (SQLSRV driver).</li>
</ul>
</li>
<li>Improved support of the Oracle (OCI8) driver, including:<ul>
<li>Added DSN string support (Easy Connect and TNS).</li>
<li>Added support for <tt class="docutils literal"><span class="pre">drop_table()</span></tt> in <a class="reference internal" href="database/forge.html"><em>Database Forge</em></a>.</li>
<li>Added support for <tt class="docutils literal"><span class="pre">list_databases()</span></tt> in <a class="reference internal" href="database/utilities.html"><em>Database Utilities</em></a>.</li>
<li>Generally improved for speed and cleaned up all of its components.</li>
<li><tt class="docutils literal"><span class="pre">num_rows()</span></tt> is now only called explicitly by the developer and no longer re-executes statements.</li>
</ul>
</li>
<li>Improved support of the SQLite driver, including:<ul>
<li>Added support for <tt class="docutils literal"><span class="pre">replace()</span></tt> in <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a>.</li>
<li>Added support for <tt class="docutils literal"><span class="pre">drop_table()</span></tt> in <a class="reference internal" href="database/forge.html"><em>Database Forge</em></a>.</li>
</ul>
</li>
<li><a class="reference internal" href="database/forge.html"><em>Database Forge</em></a> changes include:<ul>
<li>Added an optional second parameter to <tt class="docutils literal"><span class="pre">drop_table()</span></tt> that allows adding the <strong>IF EXISTS</strong> condition, which is no longer the default.</li>
<li>Added support for passing a custom database object to the loader.</li>
<li>Added support for passing custom table attributes (such as <tt class="docutils literal"><span class="pre">ENGINE</span></tt> for MySQL) to <tt class="docutils literal"><span class="pre">create_table()</span></tt>.</li>
<li>Added support for usage of the <em>FIRST</em> clause in <tt class="docutils literal"><span class="pre">add_column()</span></tt> for MySQL and CUBRID.</li>
<li>Added partial support for field comments (MySQL, PostgreSQL, Oracle).</li>
<li>Deprecated <tt class="docutils literal"><span class="pre">add_column()</span></tt>&#8216;s third method. <em>AFTER</em> clause should now be added to the field definition array instead.</li>
<li>Overall improved support for all of the drivers.</li>
</ul>
</li>
<li><a class="reference internal" href="database/utilities.html"><em>Database Utility</em></a> changes include:<ul>
<li>Added support for passing a custom database object to the loader.</li>
<li>Modified the class to no longer extend <a class="reference internal" href="database/forge.html"><em>Database Forge</em></a>, which has been a deprecated behavior for awhile.</li>
<li>Overall improved support for all of the drivers.</li>
<li>Added <em>foreign_key_checks</em> option to MySQL/MySQLi backup, allowing statement to disable/re-enable foreign key checks to be inserted into the backup output.</li>
</ul>
</li>
</ul>
</li>
<li>Libraries<ul>
<li>Added a new <a class="reference internal" href="libraries/encryption.html"><em>Encryption Library</em></a> to replace the old, largely insecure <a class="reference internal" href="libraries/encrypt.html"><em>Encrypt Library</em></a>.</li>
<li><a class="reference internal" href="libraries/encrypt.html"><em>Encrypt Library</em></a> changes include:<ul>
<li>Deprecated the library in favor of the new <a class="reference internal" href="libraries/encryption.html"><em>Encryption Library</em></a>.</li>
<li>Added support for hashing algorithms other than SHA1 and MD5.</li>
<li>Removed previously deprecated <tt class="docutils literal"><span class="pre">sha1()</span></tt> method.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/sessions.html"><em>Session Library</em></a> changes include:<ul>
<li>Completely re-written the library to use self-contained drivers via <tt class="docutils literal"><span class="pre">$config['sess_driver']</span></tt>.</li>
<li>Added &#8216;files&#8217;, &#8216;database&#8217;, &#8216;redis&#8217; and &#8216;memcached&#8217; drivers (using &#8216;files&#8217; by default).</li>
<li>Added <tt class="docutils literal"><span class="pre">$config['sess_save_path']</span></tt> setting to specify where the session data is stored, depending on the driver.</li>
<li>Dropped support for storing session data in cookies (which renders <tt class="docutils literal"><span class="pre">$config['sess_encrypt_cookie']</span></tt> useless and is therefore also removed).</li>
<li>Dropped official  support for storing session data in databases other than MySQL and PostgreSQL.</li>
<li>Changed table structure for the &#8216;database&#8217; driver.</li>
<li>Added a new <strong>tempdata</strong> feature that allows setting userdata items with expiration time (<tt class="docutils literal"><span class="pre">mark_as_temp()</span></tt>, <tt class="docutils literal"><span class="pre">tempdata()</span></tt>, <tt class="docutils literal"><span class="pre">set_tempdata()</span></tt>, <tt class="docutils literal"><span class="pre">unset_tempdata()</span></tt>).</li>
<li>Changed method <tt class="docutils literal"><span class="pre">keep_flashdata()</span></tt> to also accept an array of keys.</li>
<li>Changed methods <tt class="docutils literal"><span class="pre">userdata()</span></tt>, <tt class="docutils literal"><span class="pre">flashdata()</span></tt> to return an array of all userdata/flashdata when no parameter is passed.</li>
<li>Deprecated method <tt class="docutils literal"><span class="pre">all_userdata()</span></tt> - it is now just an alias for <tt class="docutils literal"><span class="pre">userdata()</span></tt> with no parameters.</li>
<li>Added method <tt class="docutils literal"><span class="pre">has_userdata()</span></tt> that verifies the existence of a userdata item.</li>
<li>Added <em>debug</em> level log messages for key events in the session validation process.</li>
<li>Dropped support for the <em>sess_match_useragent</em> option.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/file_uploading.html"><em>File Uploading Library</em></a> changes include:<ul>
<li>Added method chaining support.</li>
<li>Added support for using array notation in file field names.</li>
<li>Added <strong>max_filename_increment</strong> and <strong>file_ext_tolower</strong> configuration settings.</li>
<li>Added <strong>min_width</strong> and <strong>min_height</strong> configuration settings for images.</li>
<li>Added <strong>mod_mime_fix</strong> configuration setting to disable suffixing multiple file extensions with an underscore.</li>
<li>Added the possibility pass <strong>allowed_types</strong> as an array.</li>
<li>Added an <tt class="docutils literal"><span class="pre">$index</span></tt> parameter to the method <tt class="docutils literal"><span class="pre">data()</span></tt>.</li>
<li>Added a <tt class="docutils literal"><span class="pre">$reset</span></tt> parameter to method <tt class="docutils literal"><span class="pre">initialize()</span></tt>.</li>
<li>Removed method <tt class="docutils literal"><span class="pre">clean_file_name()</span></tt> and its usage in favor of <a class="reference internal" href="libraries/security.html"><em>Security Library</em></a>&#8216;s <tt class="docutils literal"><span class="pre">sanitize_filename()</span></tt>.</li>
<li>Removed method <tt class="docutils literal"><span class="pre">mimes_types()</span></tt>.</li>
<li>Changed <tt class="docutils literal"><span class="pre">CI_Upload::_prep_filename()</span></tt> to simply replace all (but the last) dots in the filename with underscores, instead of suffixing them.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/calendar.html"><em>Calendar Library</em></a> changes include:<ul>
<li>Added method chaining support.</li>
<li>Added configuration to generate days of other months instead of blank cells.</li>
<li>Added auto-configuration for <em>next_prev_url</em> if it is empty and <em>show_prev_next</em> is set to TRUE.</li>
<li>Added support for templating via an array in addition to the encoded string.</li>
<li>Changed method <tt class="docutils literal"><span class="pre">get_total_days()</span></tt> to be an alias for <a class="reference internal" href="helpers/date_helper.html"><em>Date Helper</em></a> <a class="reference internal" href="helpers/date_helper.html#days_in_month" title="days_in_month"><tt class="xref php php-func docutils literal"><span class="pre">days_in_month()</span></tt></a>.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/cart.html"><em>Cart Library</em></a> changes include:<ul>
<li>Deprecated the library as too specific for CodeIgniter.</li>
<li>Added method <tt class="docutils literal"><span class="pre">remove()</span></tt> to remove a cart item, updating with quantity of 0 seemed like a hack but has remained to retain compatibility.</li>
<li>Added method <tt class="docutils literal"><span class="pre">get_item()</span></tt> to enable retrieving data for a single cart item.</li>
<li>Added unicode support for product names.</li>
<li>Added support for disabling product name strictness via the <tt class="docutils literal"><span class="pre">$product_name_safe</span></tt> property.</li>
<li>Changed <tt class="docutils literal"><span class="pre">insert()</span></tt> method to auto-increment quantity for an item when inserted twice instead of resetting it.</li>
<li>Changed <tt class="docutils literal"><span class="pre">update()</span></tt> method to support updating all properties attached to an item and not to require &#8216;qty&#8217;.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/image_lib.html"><em>Image Manipulation Library</em></a> changes include:<ul>
<li>The <tt class="docutils literal"><span class="pre">initialize()</span></tt> method now only sets existing class properties.</li>
<li>Added support for 3-length hex color values for <em>wm_font_color</em> and <em>wm_shadow_color</em> properties, as well as validation for them.</li>
<li>Class properties <em>wm_font_color</em>, <em>wm_shadow_color</em> and <em>wm_use_drop_shadow</em> are now protected, to avoid breaking the <tt class="docutils literal"><span class="pre">text_watermark()</span></tt> method if they are set manually after initialization.</li>
<li>If property <em>maintain_ratio</em> is set to TRUE, <tt class="docutils literal"><span class="pre">image_reproportion()</span></tt> now doesn&#8217;t need both width and height to be specified.</li>
<li>Property <em>maintain_ratio</em> is now taken into account when resizing images using ImageMagick library.</li>
<li>Added support for maintaining transparency for PNG images when watermarking.</li>
<li>Added a <strong>file_permissions</strong> setting.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/form_validation.html"><em>Form Validation Library</em></a> changes include:<ul>
<li>Added method <tt class="docutils literal"><span class="pre">error_array()</span></tt> to return all error messages as an array.</li>
<li>Added method <tt class="docutils literal"><span class="pre">set_data()</span></tt> to set an alternative data array to be validated instead of the default <tt class="docutils literal"><span class="pre">$_POST</span></tt>.</li>
<li>Added method <tt class="docutils literal"><span class="pre">reset_validation()</span></tt> which resets internal validation variables in case of multiple validation routines.</li>
<li>Added support for setting error delimiters in the config file via <tt class="docutils literal"><span class="pre">$config['error_prefix']</span></tt> and <tt class="docutils literal"><span class="pre">$config['error_suffix']</span></tt>.</li>
<li>Internal method <tt class="docutils literal"><span class="pre">_execute()</span></tt> now considers input data to be invalid if a specified rule is not found.</li>
<li>Removed method <tt class="docutils literal"><span class="pre">is_numeric()</span></tt> as it exists as a native PHP function and <tt class="docutils literal"><span class="pre">_execute()</span></tt> will find and use that (the <strong>is_numeric</strong> rule itself is deprecated since 1.6.1).</li>
<li>Native PHP functions used as rules can now accept an additional parameter, other than the data itself.</li>
<li>Updated method <tt class="docutils literal"><span class="pre">set_rules()</span></tt> to accept an array of rules as well as a string.</li>
<li>Fields that have empty rules set no longer run through validation (and therefore are not considered erroneous).</li>
<li>Added rule <strong>differs</strong> to check if the value of a field differs from the value of another field.</li>
<li>Added rule <strong>valid_url</strong>.</li>
<li>Added rule <strong>in_list</strong> to check if the value of a field is within a given list.</li>
<li>Added support for named parameters in error messages.</li>
<li><a class="reference internal" href="libraries/language.html"><em>Language</em></a> line keys must now be prefixed with <strong>form_validation_</strong>.</li>
<li>Added rule <strong>alpha_numeric_spaces</strong>.</li>
<li>Added support for custom error messages per field rule.</li>
<li>Added support for callable rules when they are passed as an array.</li>
<li>Added support for non-ASCII domains in <strong>valid_email</strong> rule, depending on the Intl extension.</li>
<li>Changed the debug message about an error message not being set to include the rule name it is about.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/caching.html"><em>Caching Library</em></a> changes include:<ul>
<li>Added Wincache driver.</li>
<li>Added Redis driver.</li>
<li>Added a <em>key_prefix</em> option for cache IDs.</li>
<li>Updated driver <tt class="docutils literal"><span class="pre">is_supported()</span></tt> methods to log at the &#8220;debug&#8221; level.</li>
<li>Added option to store raw values instead of CI-formatted ones (APC, Memcache).</li>
<li>Added atomic increment/decrement feature via <tt class="docutils literal"><span class="pre">increment()</span></tt>, <tt class="docutils literal"><span class="pre">decrement()</span></tt>.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/email.html"><em>E-mail Library</em></a> changes include:<ul>
<li>Added a custom filename parameter to <tt class="docutils literal"><span class="pre">attach()</span></tt> as <tt class="docutils literal"><span class="pre">$this-&gt;email-&gt;attach($filename,</span> <span class="pre">$disposition,</span> <span class="pre">$newname)</span></tt>.</li>
<li>Added possibility to send attachment as buffer string in <tt class="docutils literal"><span class="pre">attach()</span></tt> as <tt class="docutils literal"><span class="pre">$this-&gt;email-&gt;attach($buffer,</span> <span class="pre">$disposition,</span> <span class="pre">$newname,</span> <span class="pre">$mime)</span></tt>.</li>
<li>Added possibility to attach remote files by passing a URL.</li>
<li>Added method <tt class="docutils literal"><span class="pre">attachment_cid()</span></tt> to enable embedding inline attachments into HTML.</li>
<li>Added dsn (delivery status notification) option.</li>
<li>Renamed method <tt class="docutils literal"><span class="pre">_set_header()</span></tt> to <tt class="docutils literal"><span class="pre">set_header()</span></tt> and made it public to enable adding custom headers.</li>
<li>Successfully sent emails will automatically clear the parameters.</li>
<li>Added a <em>return_path</em> parameter to the <tt class="docutils literal"><span class="pre">from()</span></tt> method.</li>
<li>Removed the second parameter (character limit) from internal method <tt class="docutils literal"><span class="pre">_prep_quoted_printable()</span></tt> as it is never used.</li>
<li>Internal method <tt class="docutils literal"><span class="pre">_prep_quoted_printable()</span></tt> will now utilize the native <tt class="docutils literal"><span class="pre">quoted_printable_encode()</span></tt>, <tt class="docutils literal"><span class="pre">imap_8bit()</span></tt> functions (if available) when CRLF is set to &#8220;rn&#8221;.</li>
<li>Default charset now relies on the global <tt class="docutils literal"><span class="pre">$config['charset']</span></tt> setting.</li>
<li>Removed unused protected method <tt class="docutils literal"><span class="pre">_get_ip()</span></tt> (<a class="reference internal" href="libraries/input.html"><em>Input Library</em></a>&#8216;s <tt class="docutils literal"><span class="pre">ip_address()</span></tt> should be used anyway).</li>
<li>Internal method <tt class="docutils literal"><span class="pre">_prep_q_encoding()</span></tt> now utilizes PHP&#8217;s <em>mbstring</em> and <em>iconv</em> extensions (when available) and no longer has a second (<tt class="docutils literal"><span class="pre">$from</span></tt>) argument.</li>
<li>Added an optional parameter to <tt class="docutils literal"><span class="pre">print_debugger()</span></tt> to allow specifying which parts of the message should be printed (&#8216;headers&#8217;, &#8216;subject&#8217;, &#8216;body&#8217;).</li>
<li>Added SMTP keepalive option to avoid opening the connection for each <tt class="docutils literal"><span class="pre">send()</span></tt> call. Accessible as <tt class="docutils literal"><span class="pre">$smtp_keepalive</span></tt>.</li>
<li>Public method <tt class="docutils literal"><span class="pre">set_header()</span></tt> now filters the input by removing all &#8220;\r&#8221; and &#8220;\n&#8221; characters.</li>
<li>Added support for non-ASCII domains in <tt class="docutils literal"><span class="pre">valid_email()</span></tt>, depending on the Intl extension.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/pagination.html"><em>Pagination Library</em></a> changes include:<ul>
<li>Deprecated usage of the &#8220;anchor_class&#8221; setting (use the new &#8220;attributes&#8221; setting instead).</li>
<li>Added method chaining support to <tt class="docutils literal"><span class="pre">initialize()</span></tt> method.</li>
<li>Added support for the anchor &#8220;rel&#8221; attribute.</li>
<li>Added support for setting custom attributes.</li>
<li>Added support for language translations of the <em>first_link</em>, <em>next_link</em>, <em>prev_link</em> and <em>last_link</em> values.</li>
<li>Added support for <tt class="docutils literal"><span class="pre">$config['num_links']</span> <span class="pre">=</span> <span class="pre">0</span></tt> configuration.</li>
<li>Added <tt class="docutils literal"><span class="pre">$config['reuse_query_string']</span></tt> to allow automatic repopulation of query string arguments, combined with normal URI segments.</li>
<li>Added <tt class="docutils literal"><span class="pre">$config['use_global_url_suffix']</span></tt> to allow overriding the library &#8216;suffix&#8217; value with that of the global <tt class="docutils literal"><span class="pre">$config['url_suffix']</span></tt> setting.</li>
<li>Removed the default <tt class="docutils literal"><span class="pre">&amp;nbsp;</span></tt> from a number of the configuration variables.</li>
</ul>
</li>
<li><a class="reference internal" href="general/profiling.html"><em>Profiler Library</em></a> changes include:<ul>
<li>Database object names are now being displayed.</li>
<li>The sum of all queries running times in seconds is now being displayed.</li>
<li>Added support for displaying the HTTP DNT (&#8220;Do Not Track&#8221;) header.</li>
<li>Added support for displaying <tt class="docutils literal"><span class="pre">$_FILES</span></tt>.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/migration.html"><em>Migration Library</em></a> changes include:<ul>
<li>Added support for timestamp-based migrations (enabled by default).</li>
<li>Added <tt class="docutils literal"><span class="pre">$config['migration_type']</span></tt> to allow switching between <em>sequential</em> and <em>timestamp</em> migrations.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/xmlrpc.html"><em>XML-RPC Library</em></a> changes include:<ul>
<li>Added the ability to use a proxy.</li>
<li>Added Basic HTTP authentication support.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/user_agent.html"><em>User Agent Library</em></a> changes include:<ul>
<li>Added check to detect if robots are pretending to be mobile clients (helps with e.g. Google indexing mobile website versions).</li>
<li>Added method <tt class="docutils literal"><span class="pre">parse()</span></tt> to allow parsing a custom user-agent string, different from the current visitor&#8217;s.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/table.html"><em>HTML Table Library</em></a> changes include:<ul>
<li>Added method chaining support.</li>
<li>Added support for setting table class defaults in a config file.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/zip.html"><em>Zip Library</em></a> changes include:<ul>
<li>Method <tt class="docutils literal"><span class="pre">read_file()</span></tt> can now also alter the original file path/name while adding files to an archive.</li>
<li>Added support for changing the compression level.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/trackback.html"><em>Trackback Library</em></a> method <tt class="docutils literal"><span class="pre">receive()</span></tt> will now utilize <tt class="docutils literal"><span class="pre">iconv()</span></tt> if it is available but <tt class="docutils literal"><span class="pre">mb_convert_encoding()</span></tt> is not.</li>
</ul>
</li>
<li>Core<ul>
<li><a class="reference internal" href="general/routing.html"><em>Routing</em></a> changes include:<ul>
<li>Added support for multiple levels of controller directories.</li>
<li>Added support for per-directory <em>default_controller</em> and <em>404_override</em> classes.</li>
<li>Added possibility to route requests using HTTP verbs.</li>
<li>Added possibility to route requests using callbacks.</li>
<li>Added a new reserved route (<em>translate_uri_dashes</em>) to allow usage of dashes in the controller and method URI segments.</li>
<li>Deprecated methods <tt class="docutils literal"><span class="pre">fetch_directory()</span></tt>, <tt class="docutils literal"><span class="pre">fetch_class()</span></tt> and <tt class="docutils literal"><span class="pre">fetch_method()</span></tt> in favor of their respective public properties.</li>
<li>Removed method <tt class="docutils literal"><span class="pre">_set_overrides()</span></tt> and moved its logic to the class constructor.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/uri.html"><em>URI Library</em></a> changes include:<ul>
<li>Added conditional PCRE UTF-8 support to the &#8220;invalid URI characters&#8221; check and removed the <tt class="docutils literal"><span class="pre">preg_quote()</span></tt> call from it to allow more flexibility.</li>
<li>Renamed method <tt class="docutils literal"><span class="pre">_filter_uri()</span></tt> to <tt class="docutils literal"><span class="pre">filter_uri()</span></tt>.</li>
<li>Changed method <tt class="docutils literal"><span class="pre">filter_uri()</span></tt> to accept by reference and removed its return value.</li>
<li>Changed private methods to protected so that MY_URI can override them.</li>
<li>Renamed internal method <tt class="docutils literal"><span class="pre">_parse_cli_args()</span></tt> to <tt class="docutils literal"><span class="pre">_parse_argv()</span></tt>.</li>
<li>Renamed internal method <tt class="docutils literal"><span class="pre">_detect_uri()</span></tt> to <tt class="docutils literal"><span class="pre">_parse_request_uri()</span></tt>.</li>
<li>Changed <tt class="docutils literal"><span class="pre">_parse_request_uri()</span></tt> to accept absolute URIs for compatibility with HTTP/1.1 as per <cite>RFC2616 &lt;http://www.ietf.org/rfc/rfc2616.txt&gt;</cite>.</li>
<li>Added protected method <tt class="docutils literal"><span class="pre">_parse_query_string()</span></tt> to URI paths in the the <strong>QUERY_STRING</strong> value, like <tt class="docutils literal"><span class="pre">_parse_request_uri()</span></tt> does.</li>
<li>Changed URI string detection logic to always default to <strong>REQUEST_URI</strong> unless configured otherwise or under CLI.</li>
<li>Removed methods <tt class="docutils literal"><span class="pre">_remove_url_suffix()</span></tt>, <tt class="docutils literal"><span class="pre">_explode_segments()</span></tt> and moved their logic into <tt class="docutils literal"><span class="pre">_set_uri_string()</span></tt>.</li>
<li>Removed method <tt class="docutils literal"><span class="pre">_fetch_uri_string()</span></tt> and moved its logic into the class constructor.</li>
<li>Removed method <tt class="docutils literal"><span class="pre">_reindex_segments()</span></tt>.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/loader.html"><em>Loader Library</em></a> changes include:<ul>
<li>Added method chaining support.</li>
<li>Added method <tt class="docutils literal"><span class="pre">get_vars()</span></tt> to the Loader to retrieve all variables loaded with <tt class="docutils literal"><span class="pre">$this-&gt;load-&gt;vars()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">_ci_autoloader()</span></tt> is now a protected method.</li>
<li>Added autoloading of drivers with <tt class="docutils literal"><span class="pre">$autoload['drivers']</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">$config['rewrite_short_tags']</span></tt> now has no effect when using PHP 5.4 as <tt class="docutils literal"><span class="pre">&lt;?=</span></tt> will always be available.</li>
<li>Changed method <tt class="docutils literal"><span class="pre">config()</span></tt> to return whatever <tt class="docutils literal"><span class="pre">CI_Config::load()</span></tt> returns instead of always being void.</li>
<li>Added support for library and model aliasing on autoload.</li>
<li>Changed method <tt class="docutils literal"><span class="pre">is_loaded()</span></tt> to ask for the (case sensitive) library name instead of its instance name.</li>
<li>Removed <tt class="docutils literal"><span class="pre">$_base_classes</span></tt> property and unified all class data in <tt class="docutils literal"><span class="pre">$_ci_classes</span></tt> instead.</li>
<li>Added method <tt class="docutils literal"><span class="pre">clear_vars()</span></tt> to allow clearing the cached variables for views.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/input.html"><em>Input Library</em></a> changes include:<ul>
<li>Deprecated the <tt class="docutils literal"><span class="pre">$config['global_xss_filtering']</span></tt> setting.</li>
<li>Added <tt class="docutils literal"><span class="pre">method()</span></tt> to retrieve <tt class="docutils literal"><span class="pre">$_SERVER['REQUEST_METHOD']</span></tt>.</li>
<li>Added support for arrays and network addresses (e.g. 192.168.1.1/24) for use with the <em>proxy_ips</em> setting.</li>
<li>Added method <tt class="docutils literal"><span class="pre">input_stream()</span></tt> to aid in using <strong>php://input</strong> stream data such as one passed via PUT, DELETE and PATCH requests.</li>
<li>Changed method <tt class="docutils literal"><span class="pre">valid_ip()</span></tt> to use PHP&#8217;s native <tt class="docutils literal"><span class="pre">filter_var()</span></tt> function.</li>
<li>Changed internal method <tt class="docutils literal"><span class="pre">_sanitize_globals()</span></tt> to skip enforcing reversal of <em>register_globals</em> in PHP 5.4+, where this functionality no longer exists.</li>
<li>Changed methods <tt class="docutils literal"><span class="pre">get()</span></tt>, <tt class="docutils literal"><span class="pre">post()</span></tt>, <tt class="docutils literal"><span class="pre">get_post()</span></tt>, <tt class="docutils literal"><span class="pre">cookie()</span></tt>, <tt class="docutils literal"><span class="pre">server()</span></tt>, <tt class="docutils literal"><span class="pre">user_agent()</span></tt> to return NULL instead of FALSE when no value is found.</li>
<li>Changed default value of the <tt class="docutils literal"><span class="pre">$xss_clean</span></tt> parameter to NULL for all methods that utilize it, the default value is now determined by the <tt class="docutils literal"><span class="pre">$config['global_xss_filtering']</span></tt> setting.</li>
<li>Added method <tt class="docutils literal"><span class="pre">post_get()</span></tt> and changed <tt class="docutils literal"><span class="pre">get_post()</span></tt> to search in GET data first. Both methods&#8217; names now properly match their GET/POST data search priorities.</li>
<li>Changed method <tt class="docutils literal"><span class="pre">_fetch_from_array()</span></tt> to parse array notation in field name.</li>
<li>Changed method <tt class="docutils literal"><span class="pre">_fetch_from_array()</span></tt> to allow retrieving multiple fields at once.</li>
<li>Added an option for <tt class="docutils literal"><span class="pre">_clean_input_keys()</span></tt> to return FALSE instead of terminating the whole script.</li>
<li>Deprecated the <tt class="docutils literal"><span class="pre">is_cli_request()</span></tt> method, it is now an alias for the new <a class="reference internal" href="general/common_functions.html#is_cli" title="is_cli"><tt class="xref php php-func docutils literal"><span class="pre">is_cli()</span></tt></a> common function.</li>
<li>Added an <tt class="docutils literal"><span class="pre">$xss_clean</span></tt> parameter to method <tt class="docutils literal"><span class="pre">user_agent()</span></tt> and removed the <tt class="docutils literal"><span class="pre">$user_agent</span></tt> property.</li>
<li>Added property <tt class="docutils literal"><span class="pre">$raw_input_stream</span></tt> to access <strong>php://input</strong> data.</li>
</ul>
</li>
<li><a class="reference internal" href="general/common_functions.html"><em>Common functions</em></a> changes include:<ul>
<li>Added function <a class="reference internal" href="general/common_functions.html#get_mimes" title="get_mimes"><tt class="xref php php-func docutils literal"><span class="pre">get_mimes()</span></tt></a> to return the <em>application/config/mimes.php</em> array.</li>
<li>Added support for HTTP code 303 (&#8220;See Other&#8221;) in <a class="reference internal" href="general/common_functions.html#set_status_header" title="set_status_header"><tt class="xref php php-func docutils literal"><span class="pre">set_status_header()</span></tt></a>.</li>
<li>Removed redundant conditional to determine HTTP server protocol in <a class="reference internal" href="general/common_functions.html#set_status_header" title="set_status_header"><tt class="xref php php-func docutils literal"><span class="pre">set_status_header()</span></tt></a>.</li>
<li>Renamed <tt class="docutils literal"><span class="pre">_exception_handler()</span></tt> to <tt class="docutils literal"><span class="pre">_error_handler()</span></tt> and replaced it with a real exception handler.</li>
<li>Changed <tt class="docutils literal"><span class="pre">_error_handler()</span></tt> to respect php.ini <em>display_errors</em> setting.</li>
<li>Added function <a class="reference internal" href="general/common_functions.html#is_https" title="is_https"><tt class="xref php php-func docutils literal"><span class="pre">is_https()</span></tt></a> to check if a secure connection is used.</li>
<li>Added function <a class="reference internal" href="general/common_functions.html#is_cli" title="is_cli"><tt class="xref php php-func docutils literal"><span class="pre">is_cli()</span></tt></a> to replace the <tt class="docutils literal"><span class="pre">CI_Input::is_cli_request()</span></tt> method.</li>
<li>Added function <a class="reference internal" href="general/common_functions.html#function_usable" title="function_usable"><tt class="xref php php-func docutils literal"><span class="pre">function_usable()</span></tt></a> to work around a bug in <cite>Suhosin &lt;http://www.hardened-php.net/suhosin/&gt;</cite>.</li>
<li>Removed the third (<cite>$php_error</cite>) argument from function <a class="reference internal" href="general/errors.html#log_message" title="log_message"><tt class="xref php php-func docutils literal"><span class="pre">log_message()</span></tt></a>.</li>
<li>Changed internal function <tt class="docutils literal"><span class="pre">load_class()</span></tt> to accept a constructor parameter instead of (previously unused) class name prefix.</li>
<li>Removed default parameter value of <a class="reference internal" href="general/common_functions.html#is_php" title="is_php"><tt class="xref php php-func docutils literal"><span class="pre">is_php()</span></tt></a>.</li>
<li>Added a second argument <tt class="docutils literal"><span class="pre">$double_encode</span></tt> to <a class="reference internal" href="general/common_functions.html#html_escape" title="html_escape"><tt class="xref php php-func docutils literal"><span class="pre">html_escape()</span></tt></a>.</li>
<li>Changed function <a class="reference internal" href="general/common_functions.html#config_item" title="config_item"><tt class="xref php php-func docutils literal"><span class="pre">config_item()</span></tt></a> to return NULL instead of FALSE when no value is found.</li>
<li>Changed function <a class="reference internal" href="general/common_functions.html#set_status_header" title="set_status_header"><tt class="xref php php-func docutils literal"><span class="pre">set_status_header()</span></tt></a> to return immediately when run under CLI.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/output.html"><em>Output Library</em></a> changes include:<ul>
<li>Added a second argument to method <tt class="docutils literal"><span class="pre">set_content_type()</span></tt> that allows setting the document charset as well.</li>
<li>Added methods <tt class="docutils literal"><span class="pre">get_content_type()</span></tt> and <tt class="docutils literal"><span class="pre">get_header()</span></tt>.</li>
<li>Added method <tt class="docutils literal"><span class="pre">delete_cache()</span></tt>.</li>
<li>Added configuration option <tt class="docutils literal"><span class="pre">$config['cache_query_string']</span></tt> to enable taking the query string into account when caching.</li>
<li>Changed caching behavior to compress the output before storing it, if <tt class="docutils literal"><span class="pre">$config['compress_output']</span></tt> is enabled.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/config.html"><em>Config Library</em></a> changes include:<ul>
<li>Changed <tt class="docutils literal"><span class="pre">site_url()</span></tt> method  to accept an array as well.</li>
<li>Removed internal method <tt class="docutils literal"><span class="pre">_assign_to_config()</span></tt> and moved its implementation to <em>CodeIgniter.php</em> instead.</li>
<li><tt class="docutils literal"><span class="pre">item()</span></tt> now returns NULL instead of FALSE when the required config item doesn&#8217;t exist.</li>
<li>Added an optional second parameter to both <tt class="docutils literal"><span class="pre">base_url()</span></tt> and <tt class="docutils literal"><span class="pre">site_url()</span></tt> that allows enforcing of a protocol different than the one in the <em>base_url</em> configuration setting.</li>
<li>Added HTTP &#8220;Host&#8221; header character validation to prevent cache poisoning attacks when <tt class="docutils literal"><span class="pre">base_url</span></tt> auto-detection is used.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/security.html"><em>Security Library</em></a> changes include:<ul>
<li>Added <tt class="docutils literal"><span class="pre">$config['csrf_regeneration']</span></tt>, which makes CSRF token regeneration optional.</li>
<li>Added <tt class="docutils literal"><span class="pre">$config['csrf_exclude_uris']</span></tt>, allowing for exclusion of URIs from the CSRF protection (regular expressions are supported).</li>
<li>Added method <tt class="docutils literal"><span class="pre">strip_image_tags()</span></tt>.</li>
<li>Added method <tt class="docutils literal"><span class="pre">get_random_bytes()</span></tt> and switched CSRF &amp; XSS token generation to use it.</li>
<li>Modified method <tt class="docutils literal"><span class="pre">sanitize_filename()</span></tt> to read a public <tt class="docutils literal"><span class="pre">$filename_bad_chars</span></tt> property for getting the invalid characters list.</li>
<li>Return status code of 403 instead of a 500 if CSRF protection is enabled but a token is missing from a request.</li>
</ul>
</li>
<li><a class="reference internal" href="libraries/language.html"><em>Language Library</em></a> changes include:<ul>
<li>Changed method <tt class="docutils literal"><span class="pre">load()</span></tt> to filter the language name with <tt class="docutils literal"><span class="pre">ctype_alpha()</span></tt>.</li>
<li>Changed method <tt class="docutils literal"><span class="pre">load()</span></tt> to also accept an array of language files.</li>
<li>Added an optional second parameter to method <tt class="docutils literal"><span class="pre">line()</span></tt> to disable error logging for line keys that were not found.</li>
<li>Language files are now loaded in a cascading style with the one in <strong>system/</strong> always loaded and overridden afterwards, if another one is found.</li>
</ul>
</li>
<li><a class="reference internal" href="general/hooks.html"><em>Hooks Library</em></a> changes include:<ul>
<li>Added support for closure hooks (or anything that <tt class="docutils literal"><span class="pre">is_callable()</span></tt> returns TRUE for).</li>
<li>Renamed method <tt class="docutils literal"><span class="pre">_call_hook()</span></tt> to <tt class="docutils literal"><span class="pre">call_hook()</span></tt>.</li>
<li>Class instances are now stored in order to maintain their state.</li>
</ul>
</li>
<li>UTF-8 Library changes include:<ul>
<li><tt class="docutils literal"><span class="pre">UTF8_ENABLED</span></tt> now requires only one of <a class="reference external" href="http://php.net/mbstring">Multibyte String</a> or <a class="reference external" href="http://php.net/iconv">iconv</a> to be available instead of both.</li>
<li>Changed method <tt class="docutils literal"><span class="pre">clean_string()</span></tt> to utilize <tt class="docutils literal"><span class="pre">mb_convert_encoding()</span></tt> if it is available.</li>
<li>Renamed method <tt class="docutils literal"><span class="pre">_is_ascii()</span></tt> to <tt class="docutils literal"><span class="pre">is_ascii()</span></tt> and made it public.</li>
</ul>
</li>
<li>Log Library changes include:<ul>
<li>Added a <tt class="docutils literal"><span class="pre">$config['log_file_permissions']</span></tt> setting.</li>
<li>Changed the library constructor to try to create the <strong>log_path</strong> directory if it doesn&#8217;t exist.</li>
<li>Added support for microseconds (&#8220;u&#8221; date format character) in <tt class="docutils literal"><span class="pre">$config['log_date_format']</span></tt>.</li>
</ul>
</li>
<li>Added <a class="reference internal" href="general/compatibility_functions.html"><em>compatibility layers</em></a> for:<ul>
<li><a class="reference external" href="http://php.net/mbstring">Multibyte String</a> (limited support).</li>
<li><a class="reference external" href="http://php.net/hash">Hash</a> (<tt class="docutils literal"><span class="pre">hash_equals()</span></tt>, <tt class="docutils literal"><span class="pre">hash_pbkdf2()</span></tt>).</li>
<li><a class="reference external" href="http://php.net/password">Password Hashing</a>.</li>
<li><cite>Standard Functions ``array_column()`</cite>, <tt class="docutils literal"><span class="pre">array_replace()</span></tt>, <tt class="docutils literal"><span class="pre">array_replace_recursive()</span></tt>, <tt class="docutils literal"><span class="pre">hex2bin()</span></tt>, <tt class="docutils literal"><span class="pre">quoted_printable_encode()</span></tt>.</li>
</ul>
</li>
<li>Removed <tt class="docutils literal"><span class="pre">CI_CORE</span></tt> boolean constant from <em>CodeIgniter.php</em> (no longer Reactor and Core versions).</li>
<li>Added support for HTTP-Only cookies with new config option <em>cookie_httponly</em> (default FALSE).</li>
<li><tt class="docutils literal"><span class="pre">$config['time_reference']</span></tt> now supports all timezone strings supported by PHP.</li>
<li>Fatal PHP errors are now also passed to <tt class="docutils literal"><span class="pre">_error_handler()</span></tt>, so they can be logged.</li>
</ul>
</li>
</ul>
<div class="section" id="bug-fixes-for-3-0">
<h3>Bug fixes for 3.0<a class="headerlink" href="#bug-fixes-for-3-0" title="Permalink to this headline">Â¶</a></h3>
<ul class="simple">
<li>Fixed a bug where <tt class="docutils literal"><span class="pre">unlink()</span></tt> raised an error if cache file did not exist when you try to delete it.</li>
<li>Fixed a bug (#181) - a typo in the form validation language file.</li>
<li>Fixed a bug (#159, #163) - <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> nested transactions didn&#8217;t work properly due to <tt class="docutils literal"><span class="pre">$_trans_depth</span></tt> not being incremented.</li>
<li>Fixed a bug (#737, #75) - <a class="reference internal" href="libraries/pagination.html"><em>Pagination</em></a> anchor class was not set properly when using initialize method.</li>
<li>Fixed a bug (#419) - <a class="reference internal" href="helpers/url_helper.html"><em>URL Helper</em></a> <a class="reference internal" href="helpers/url_helper.html#auto_link" title="auto_link"><tt class="xref php php-func docutils literal"><span class="pre">auto_link()</span></tt></a> didn&#8217;t recognize URLs that come after a word boundary.</li>
<li>Fixed a bug (#724) - <a class="reference internal" href="libraries/form_validation.html"><em>Form Validation Library</em></a> rule <strong>is_unique</strong> didn&#8217;t check if a database connection exists.</li>
<li>Fixed a bug (#647) - <a class="reference internal" href="libraries/zip.html"><em>Zip Library</em></a> internal method <tt class="docutils literal"><span class="pre">_get_mod_time()</span></tt> didn&#8217;t suppress possible &#8220;stat failed&#8221; errors generated by <tt class="docutils literal"><span class="pre">filemtime()</span></tt>.</li>
<li>Fixed a bug (#157, #174) - <a class="reference internal" href="libraries/image_lib.html"><em>Image Manipulation Library</em></a> method <tt class="docutils literal"><span class="pre">clear()</span></tt> didn&#8217;t completely clear properties.</li>
<li>Fixed a bug where <a class="reference internal" href="database/forge.html"><em>Database Forge</em></a> method <tt class="docutils literal"><span class="pre">create_table()</span></tt> with PostgreSQL database could lead to fetching the whole table.</li>
<li>Fixed a bug (#795) - <a class="reference internal" href="helpers/form_helper.html"><em>Form Helper</em></a> <a class="reference internal" href="helpers/form_helper.html#form_open" title="form_open"><tt class="xref php php-func docutils literal"><span class="pre">form_open()</span></tt></a> didn&#8217;t add the default form <em>method</em> and <em>accept-charset</em> when an empty array is passed to it.</li>
<li>Fixed a bug (#797) - <a class="reference internal" href="helpers/date_helper.html"><em>Date Helper</em></a> <a class="reference internal" href="helpers/date_helper.html#timespan" title="timespan"><tt class="xref php php-func docutils literal"><span class="pre">timespan()</span></tt></a> was using incorrect seconds for year and month.</li>
<li>Fixed a bug in <a class="reference internal" href="libraries/cart.html"><em>Cart Library</em></a> method <tt class="docutils literal"><span class="pre">contents()</span></tt> where if called without a TRUE (or equal) parameter, it would fail due to a typo.</li>
<li>Fixed a bug (#406) - SQLSRV DB driver not returning resource on <tt class="docutils literal"><span class="pre">db_pconnect()</span></tt>.</li>
<li>Fixed a bug in <a class="reference internal" href="libraries/image_lib.html"><em>Image Manipulation Library</em></a> method <tt class="docutils literal"><span class="pre">gd_loaded()</span></tt> where it was possible for the script execution to end or a PHP E_WARNING message to be emitted.</li>
<li>Fixed a bug in the <a class="reference internal" href="libraries/pagination.html"><em>Pagination library</em></a> where when use_page_numbers=TRUE previous link and page 1 link did not have the same url.</li>
<li>Fixed a bug (#561) - errors in <a class="reference internal" href="libraries/xmlrpc.html"><em>XML-RPC Library</em></a> were not properly escaped.</li>
<li>Fixed a bug (#904) - <a class="reference internal" href="libraries/loader.html"><em>Loader Library</em></a> method <tt class="docutils literal"><span class="pre">initialize()</span></tt> caused a PHP Fatal error to be triggered if error level E_STRICT is used.</li>
<li>Fixed a hosting edge case where an empty <tt class="docutils literal"><span class="pre">$_SERVER['HTTPS']</span></tt> variable would evaluate to &#8216;on&#8217;.</li>
<li>Fixed a bug (#154) - <a class="reference internal" href="libraries/sessions.html"><em>Session Library</em></a> method <tt class="docutils literal"><span class="pre">sess_update()</span></tt> caused the session to be destroyed on pages where multiple AJAX requests were executed at once.</li>
<li>Fixed a possible bug in <a class="reference internal" href="libraries/input.html"><em>Input Libary</em></a> method <tt class="docutils literal"><span class="pre">is_ajax_request()</span></tt> where some clients might not send the X-Requested-With HTTP header value exactly as &#8216;XmlHttpRequest&#8217;.</li>
<li>Fixed a bug (#1039) - <a class="reference internal" href="database/utilities.html"><em>Database Utilities</em></a> internal method <tt class="docutils literal"><span class="pre">_backup()</span></tt> method failed for the &#8216;mysql&#8217; driver due to a table name not being escaped.</li>
<li>Fixed a bug (#1070) - <tt class="docutils literal"><span class="pre">CI_DB_driver::initialize()</span></tt> didn&#8217;t set a character set if a database is not selected.</li>
<li>Fixed a bug (#177) - <a class="reference internal" href="libraries/form_validation.html"><em>Form Validation Library</em></a> method <tt class="docutils literal"><span class="pre">set_value()</span></tt> didn&#8217;t set the default value if POST data is NULL.</li>
<li>Fixed a bug (#68, #414) - :Oracle&#8217;s <tt class="docutils literal"><span class="pre">escape_str()</span></tt> didn&#8217;t properly escape LIKE wild characters.</li>
<li>Fixed a bug (#81) - ODBC&#8217;s <tt class="docutils literal"><span class="pre">list_fields()</span></tt> and <tt class="docutils literal"><span class="pre">field_data()</span></tt> methods skipped the first column due to <tt class="docutils literal"><span class="pre">odbc_field_*()</span></tt> functions&#8217; index starting at 1 instead of 0.</li>
<li>Fixed a bug (#129) - ODBC&#8217;s <tt class="docutils literal"><span class="pre">num_rows()</span></tt> method returned -1 in some cases, due to not all subdrivers supporting the <tt class="docutils literal"><span class="pre">odbc_num_rows()</span></tt> function.</li>
<li>Fixed a bug (#153) - E_NOTICE being generated by <tt class="docutils literal"><span class="pre">getimagesize()</span></tt> in the <a class="reference internal" href="libraries/file_uploading.html"><em>File Uploading Library</em></a>.</li>
<li>Fixed a bug (#611) - SQLSRV&#8217;s error handling methods used to issue warnings when there&#8217;s no actual error.</li>
<li>Fixed a bug (#1036) - <tt class="docutils literal"><span class="pre">is_write_type()</span></tt> method in the <a class="reference internal" href="database/index.html"><em>Database Library</em></a> didn&#8217;t return TRUE for RENAME queries.</li>
<li>Fixed a bug in PDO&#8217;s <tt class="docutils literal"><span class="pre">_version()</span></tt> method where it used to return the client version as opposed to the server one.</li>
<li>Fixed a bug in PDO&#8217;s <tt class="docutils literal"><span class="pre">insert_id()</span></tt> method where it could&#8217;ve failed if it&#8217;s used with Postgre versions prior to 8.1.</li>
<li>Fixed a bug in CUBRID&#8217;s <tt class="docutils literal"><span class="pre">affected_rows()</span></tt> method where a connection resource was passed to <tt class="docutils literal"><span class="pre">cubrid_affected_rows()</span></tt> instead of a result.</li>
<li>Fixed a bug (#638) - <tt class="docutils literal"><span class="pre">db_set_charset()</span></tt> ignored its arguments and always used the configured charset instead.</li>
<li>Fixed a bug (#413) - Oracle&#8217;s error handling methods used to only return connection-related errors.</li>
<li>Fixed a bug (#1101) - <a class="reference internal" href="database/results.html"><em>Database Result</em></a> method <tt class="docutils literal"><span class="pre">field_data()</span></tt> for &#8216;mysql&#8217;, &#8216;mysqli&#8217; drivers was implemented as if it was handling a DESCRIBE result instead of the actual result set.</li>
<li>Fixed a bug in Oracle&#8217;s <a class="reference internal" href="database/forge.html"><em>Database Forge</em></a> method <tt class="docutils literal"><span class="pre">_create_table()</span></tt> where it failed with AUTO_INCREMENT as it&#8217;s not supported.</li>
<li>Fixed a bug (#1080) - when using the SMTP protocol, <a class="reference internal" href="libraries/email.html"><em>Email Library</em></a> method <tt class="docutils literal"><span class="pre">send()</span></tt> was returning TRUE even if the connection/authentication against the server failed.</li>
<li>Fixed a bug (#306) - ODBC&#8217;s <tt class="docutils literal"><span class="pre">insert_id()</span></tt> method was calling non-existent function <tt class="docutils literal"><span class="pre">odbc_insert_id()</span></tt>, which resulted in a fatal error.</li>
<li>Fixed a bug in Oracle&#8217;s <a class="reference internal" href="database/results.html"><em>Database Result</em></a> implementation where the cursor ID passed to it was always NULL.</li>
<li>Fixed a bug (#64) - Regular expression in <em>DB_query_builder.php</em> failed to handle queries containing SQL bracket delimiters in the JOIN condition.</li>
<li>Fixed a bug in the <a class="reference internal" href="libraries/sessions.html"><em>Session Library</em></a> where a PHP E_NOTICE error was triggered by <tt class="docutils literal"><span class="pre">_unserialize()</span></tt> due to results from databases such as MSSQL and Oracle being space-padded on the right.</li>
<li>Fixed a bug (#501) - <a class="reference internal" href="libraries/form_validation.html"><em>Form Validation Library</em></a> method <tt class="docutils literal"><span class="pre">set_rules()</span></tt> depended on <tt class="docutils literal"><span class="pre">count($_POST)</span></tt> instead of actually checking if the request method &#8216;POST&#8217; before aborting.</li>
<li>Fixed a bug (#136) - PostgreSQL and MySQL&#8217;s <tt class="docutils literal"><span class="pre">escape_str()</span></tt> method didn&#8217;t properly escape LIKE wild characters.</li>
<li>Fixed a bug in <a class="reference internal" href="libraries/loader.html"><em>Loader Library</em></a> method <tt class="docutils literal"><span class="pre">library()</span></tt> where some PHP versions wouldn&#8217;t execute the class constructor.</li>
<li>Fixed a bug (#88) - An unexisting property was used for configuration of the Memcache cache driver.</li>
<li>Fixed a bug (#14) - <a class="reference internal" href="database/forge.html"><em>Database Forge</em></a> method <tt class="docutils literal"><span class="pre">create_database()</span></tt> didn&#8217;t utilize the configured database character set.</li>
<li>Fixed a bug (#23, #1238) - <a class="reference internal" href="database/caching.html"><em>Database Caching</em></a> method <tt class="docutils literal"><span class="pre">delete_all()</span></tt> used to delete .htaccess and index.html files, which is a potential security risk.</li>
<li>Fixed a bug in <a class="reference internal" href="libraries/trackback.html"><em>Trackback Library</em></a> method <tt class="docutils literal"><span class="pre">validate_url()</span></tt> where it didn&#8217;t actually do anything, due to input not being passed by reference.</li>
<li>Fixed a bug (#11, #183, #863) - <a class="reference internal" href="libraries/form_validation.html"><em>Form Validation Library</em></a> method <tt class="docutils literal"><span class="pre">_execute()</span></tt> silently continued to the next rule, if a rule method/function is not found.</li>
<li>Fixed a bug (#122) - routed URI string was being reported incorrectly in sub-directories.</li>
<li>Fixed a bug (#1241) - <a class="reference internal" href="libraries/zip.html"><em>Zip Library</em></a> method <tt class="docutils literal"><span class="pre">read_dir()</span></tt> wasn&#8217;t compatible with Windows.</li>
<li>Fixed a bug (#306) - ODBC driver didn&#8217;t have an <tt class="docutils literal"><span class="pre">_insert_batch()</span></tt> method, which resulted in fatal error being triggered when <tt class="docutils literal"><span class="pre">insert_batch()</span></tt> is used with it.</li>
<li>Fixed a bug in MSSQL and SQLSrv&#8217;s <tt class="docutils literal"><span class="pre">_truncate()</span></tt> where the TABLE keyword was missing.</li>
<li>Fixed a bug in PDO&#8217;s <tt class="docutils literal"><span class="pre">trans_commit()</span></tt> method where it failed due to an erroneous property name.</li>
<li>Fixed a bug (#798) - <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> method <tt class="docutils literal"><span class="pre">update()</span></tt> used to ignore LIKE conditions that were set with <tt class="docutils literal"><span class="pre">like()</span></tt>.</li>
<li>Fixed a bug in Oracle&#8217;s and MSSQL&#8217;s <tt class="docutils literal"><span class="pre">delete()</span></tt> methods where an erroneous SQL statement was generated when used with <tt class="docutils literal"><span class="pre">limit()</span></tt>.</li>
<li>Fixed a bug in SQLSRV&#8217;s <tt class="docutils literal"><span class="pre">delete()</span></tt> method where <tt class="docutils literal"><span class="pre">like()</span></tt> and <tt class="docutils literal"><span class="pre">limit()</span></tt> conditions were ignored.</li>
<li>Fixed a bug (#1265) - Database connections were always closed, regardless of the &#8216;pconnect&#8217; option value.</li>
<li>Fixed a bug (#128) - <a class="reference internal" href="libraries/language.html"><em>Language Library</em></a> did not correctly keep track of loaded language files.</li>
<li>Fixed a bug (#1349) - <a class="reference internal" href="libraries/file_uploading.html"><em>File Uploading Library</em></a> method <tt class="docutils literal"><span class="pre">get_extension()</span></tt> returned the original filename when it didn&#8217;t have an actual extension.</li>
<li>Fixed a bug (#1273) - <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> method <tt class="docutils literal"><span class="pre">set_update_batch()</span></tt> generated an E_NOTICE message.</li>
<li>Fixed a bug (#44, #110) - <a class="reference internal" href="libraries/file_uploading.html"><em>File Uploading Library</em></a> method <tt class="docutils literal"><span class="pre">clean_file_name()</span></tt> didn&#8217;t clear &#8216;!&#8217; and &#8216;#&#8217; characters.</li>
<li>Fixed a bug (#121) - <a class="reference internal" href="database/results.html"><em>Database Results</em></a> method <tt class="docutils literal"><span class="pre">row()</span></tt> returned an array when there&#8217;s no actual result to be returned.</li>
<li>Fixed a bug (#319) - SQLSRV&#8217;s <tt class="docutils literal"><span class="pre">affected_rows()</span></tt> method failed due to a scrollable cursor being created for write-type queries.</li>
<li>Fixed a bug (#356) - <a class="reference internal" href="database/index.html"><em>Database</em></a> driver &#8216;postgre&#8217; didn&#8217;t have an <tt class="docutils literal"><span class="pre">_update_batch()</span></tt> method, which resulted in fatal error being triggered when <tt class="docutils literal"><span class="pre">update_batch()</span></tt> is used with it.</li>
<li>Fixed a bug (#784, #862) - <a class="reference internal" href="database/forge.html"><em>Database Forge</em></a> method <tt class="docutils literal"><span class="pre">create_table()</span></tt> failed on SQLSRV/MSSQL when used with &#8216;IF NOT EXISTS&#8217;.</li>
<li>Fixed a bug (#1419) - <a class="reference internal" href="general/creating_drivers.html"><em>Driver Library</em></a> had a static variable that was causing an error.</li>
<li>Fixed a bug (#1411) - the <a class="reference internal" href="libraries/email.html"><em>Email Library</em></a> used its own short list of MIMEs instead the one from <em>config/mimes.php</em>.</li>
<li>Fixed a bug where php.ini setting <em>magic_quotes_runtime</em> wasn&#8217;t turned off for PHP 5.3 (where it is indeed deprecated, but not non-existent).</li>
<li>Fixed a bug (#666) - <a class="reference internal" href="libraries/output.html"><em>Output Library</em></a> method <tt class="docutils literal"><span class="pre">set_content_type()</span></tt> didn&#8217;t set the document charset.</li>
<li>Fixed a bug (#784, #861) - <a class="reference internal" href="database/forge.html"><em>Database Forge</em></a> method <tt class="docutils literal"><span class="pre">create_table()</span></tt> used to accept constraints for MSSQL/SQLSRV integer-type columns.</li>
<li>Fixed a bug (#706) - SQLSRV/MSSSQL <a class="reference internal" href="database/index.html"><em>Database</em></a> drivers didn&#8217;t escape field names.</li>
<li>Fixed a bug (#1452) - <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> method <tt class="docutils literal"><span class="pre">protect_identifiers()</span></tt> didn&#8217;t properly detect identifiers with spaces in their names.</li>
<li>Fixed a bug where <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> method <tt class="docutils literal"><span class="pre">protect_identifiers()</span></tt> ignored its extra arguments when the value passed to it is an array.</li>
<li>Fixed a bug where <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> internal method <tt class="docutils literal"><span class="pre">_has_operator()</span></tt> didn&#8217;t detect BETWEEN.</li>
<li>Fixed a bug where <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> method <tt class="docutils literal"><span class="pre">join()</span></tt> failed with identifiers containing dashes.</li>
<li>Fixed a bug (#1264) - <a class="reference internal" href="database/forge.html"><em>Database Forge</em></a> and <a class="reference internal" href="database/utilities.html"><em>Database Utilities</em></a> didn&#8217;t update/reset the databases and tables list cache when a table or a database is created, dropped or renamed.</li>
<li>Fixed a bug (#7) - <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> method <tt class="docutils literal"><span class="pre">join()</span></tt> only escaped one set of conditions.</li>
<li>Fixed a bug (#1321) - <tt class="docutils literal"><span class="pre">CI_Exceptions</span></tt> couldn&#8217;t find the <em>errors/</em> directory in some cases.</li>
<li>Fixed a bug (#1202) - <a class="reference internal" href="libraries/encrypt.html"><em>Encrypt Library</em></a> <tt class="docutils literal"><span class="pre">encode_from_legacy()</span></tt> didn&#8217;t set back the encrypt mode on failure.</li>
<li>Fixed a bug (#145) - <a class="reference internal" href="database/index.html"><em>Database Class</em></a> method <tt class="docutils literal"><span class="pre">compile_binds()</span></tt> failed when the bind marker was present in a literal string within the query.</li>
<li>Fixed a bug in <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> method <tt class="docutils literal"><span class="pre">protect_identifiers()</span></tt> where if passed along with the field names, operators got escaped as well.</li>
<li>Fixed a bug (#10) - <a class="reference internal" href="libraries/uri.html"><em>URI Library</em></a> internal method <tt class="docutils literal"><span class="pre">_detect_uri()</span></tt> failed with paths containing a colon.</li>
<li>Fixed a bug (#1387) - <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> method <tt class="docutils literal"><span class="pre">from()</span></tt> didn&#8217;t escape table aliases.</li>
<li>Fixed a bug (#520) - <a class="reference internal" href="helpers/date_helper.html"><em>Date Helper</em></a> function :php:func:<tt class="docutils literal"><span class="pre">nice_date()</span></tt> failed when the optional second parameter is not passed.</li>
<li>Fixed a bug (#318) - <a class="reference internal" href="general/profiling.html"><em>Profiling Library</em></a> setting <em>query_toggle_count</em> was not settable as described in the manual.</li>
<li>Fixed a bug (#938) - <a class="reference internal" href="libraries/config.html"><em>Config Library</em></a> method <tt class="docutils literal"><span class="pre">site_url()</span></tt> added a question mark to the URL string when query strings are enabled even if it already existed.</li>
<li>Fixed a bug (#999) - <a class="reference internal" href="libraries/config.html"><em>Config Library</em></a> method <tt class="docutils literal"><span class="pre">site_url()</span></tt> always appended <tt class="docutils literal"><span class="pre">$config['url_suffix']</span></tt> to the end of the URL string, regardless of whether a query string exists in it.</li>
<li>Fixed a bug where <a class="reference internal" href="helpers/url_helper.html"><em>URL Helper</em></a> function <a class="reference internal" href="helpers/url_helper.html#anchor_popup" title="anchor_popup"><tt class="xref php php-func docutils literal"><span class="pre">anchor_popup()</span></tt></a> ignored the attributes argument if it is not an array.</li>
<li>Fixed a bug (#1328) - <a class="reference internal" href="libraries/form_validation.html"><em>Form Validation Library</em></a> didn&#8217;t properly check the type of the form fields before processing them.</li>
<li>Fixed a bug (#79) - <a class="reference internal" href="libraries/form_validation.html"><em>Form Validation Library</em></a> didn&#8217;t properly validate array fields that use associative keys or have custom indexes.</li>
<li>Fixed a bug (#427) - <a class="reference internal" href="libraries/form_validation.html"><em>Form Validation Library</em></a> method <tt class="docutils literal"><span class="pre">strip_image_tags()</span></tt> was an alias to a non-existent method.</li>
<li>Fixed a bug (#1545) - <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> method <tt class="docutils literal"><span class="pre">limit()</span></tt> wasn&#8217;t executed properly under Oracle.</li>
<li>Fixed a bug (#1551) - <a class="reference internal" href="helpers/date_helper.html"><em>Date Helper</em></a> function <a class="reference internal" href="helpers/date_helper.html#standard_date" title="standard_date"><tt class="xref php php-func docutils literal"><span class="pre">standard_date()</span></tt></a> didn&#8217;t properly format <em>W3C</em> and <em>ATOM</em> standard dates.</li>
<li>Fixed a bug where <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> method <tt class="docutils literal"><span class="pre">join()</span></tt> escaped literal values as if they were fields.</li>
<li>Fixed a bug (#135) - PHP Error logging was impossible without the errors being displayed.</li>
<li>Fixed a bug (#1613) - <a class="reference internal" href="helpers/form_helper.html"><em>Form Helper</em></a> functions <a class="reference internal" href="helpers/form_helper.html#form_multiselect" title="form_multiselect"><tt class="xref php php-func docutils literal"><span class="pre">form_multiselect()</span></tt></a>, <a class="reference internal" href="helpers/form_helper.html#form_dropdown" title="form_dropdown"><tt class="xref php php-func docutils literal"><span class="pre">form_dropdown()</span></tt></a> didn&#8217;t properly handle empty array option groups.</li>
<li>Fixed a bug (#1605) - <a class="reference internal" href="libraries/pagination.html"><em>Pagination Library</em></a> produced incorrect <em>previous</em> and <em>next</em> link values.</li>
<li>Fixed a bug in SQLSRV&#8217;s <tt class="docutils literal"><span class="pre">affected_rows()</span></tt> method where an erroneous function name was used.</li>
<li>Fixed a bug (#1000) - Change syntax of <tt class="docutils literal"><span class="pre">$view_file</span></tt> to <tt class="docutils literal"><span class="pre">$_ci_view_file</span></tt> to prevent being overwritten by application.</li>
<li>Fixed a bug (#1757) - <a class="reference internal" href="helpers/directory_helper.html"><em>Directory Helper</em></a> function <a class="reference internal" href="helpers/directory_helper.html#directory_map" title="directory_map"><tt class="xref php php-func docutils literal"><span class="pre">directory_map()</span></tt></a> was skipping files and directories named &#8216;0&#8217;.</li>
<li>Fixed a bug (#1789) - <a class="reference internal" href="database/index.html"><em>Database Library</em></a> method <tt class="docutils literal"><span class="pre">escape_str()</span></tt> escaped quote characters in LIKE conditions twice under MySQL.</li>
<li>Fixed a bug (#395) - <a class="reference internal" href="libraries/unit_testing.html"><em>Unit Testing Library</em></a> method <tt class="docutils literal"><span class="pre">result()</span></tt> didn&#8217;t properly check array result columns when called from <tt class="docutils literal"><span class="pre">report()</span></tt>.</li>
<li>Fixed a bug (#1692) - <a class="reference internal" href="database/index.html"><em>Database Class</em></a> method <tt class="docutils literal"><span class="pre">display_error()</span></tt> didn&#8217;t properly trace the possible error source on Windows systems.</li>
<li>Fixed a bug (#1745) - <a class="reference internal" href="database/index.html"><em>Database Class</em></a> method <tt class="docutils literal"><span class="pre">is_write_type()</span></tt> didn&#8217;t return TRUE for LOAD queries.</li>
<li>Fixed a bug (#1765) - <a class="reference internal" href="database/index.html"><em>Database Class</em></a> didn&#8217;t properly detect connection errors for the &#8216;mysqli&#8217; driver.</li>
<li>Fixed a bug (#1257) - <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> used to (unnecessarily) group FROM clause contents, which breaks certain queries and is invalid for some databases.</li>
<li>Fixed a bug (#1709) - <a class="reference internal" href="libraries/email.html"><em>Email</em></a> headers were broken when using long email subjects and rn as CRLF.</li>
<li>Fixed a bug where <tt class="docutils literal"><span class="pre">MB_ENABLED</span></tt> constant was only declared if <tt class="docutils literal"><span class="pre">UTF8_ENABLED</span></tt> was set to TRUE.</li>
<li>Fixed a bug where the <a class="reference internal" href="libraries/sessions.html"><em>Session Library</em></a> accepted cookies with <em>last_activity</em> values being in the future.</li>
<li>Fixed a bug (#1897) - <a class="reference internal" href="libraries/email.html"><em>Email Library</em></a> triggered PHP E_WARNING errors when <em>mail</em> protocol used and <tt class="docutils literal"><span class="pre">to()</span></tt> is never called.</li>
<li>Fixed a bug (#1409) - <a class="reference internal" href="libraries/email.html"><em>Email Library</em></a> didn&#8217;t properly handle multibyte characters when applying Q-encoding to headers.</li>
<li>Fixed a bug where <a class="reference internal" href="libraries/email.html"><em>Email Library</em></a> ignored its <em>wordwrap</em> setting while handling alternative messages.</li>
<li>Fixed a bug (#1476, #1909) - <a class="reference internal" href="libraries/pagination.html"><em>Pagination Library</em></a> didn&#8217;t take into account actual routing when determining the current page.</li>
<li>Fixed a bug (#1766) - <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> didn&#8217;t always take into account the <em>dbprefix</em> setting.</li>
<li>Fixed a bug (#779) - <a class="reference internal" href="libraries/uri.html"><em>URI Class</em></a> didn&#8217;t always trim slashes from the <em>uri_string</em> as shown in the documentation.</li>
<li>Fixed a bug (#134) - <a class="reference internal" href="database/caching.html"><em>Database Caching</em></a> method <tt class="docutils literal"><span class="pre">delete_cache()</span></tt> didn&#8217;t work in some cases due to <em>cachedir</em> not being initialized properly.</li>
<li>Fixed a bug (#191) - <a class="reference internal" href="libraries/loader.html"><em>Loader Library</em></a> ignored attempts for (re)loading databases to <tt class="docutils literal"><span class="pre">get_instance()-&gt;db</span></tt> even when the old database connection is dead.</li>
<li>Fixed a bug (#1255) - <a class="reference internal" href="libraries/user_agent.html"><em>User Agent Library</em></a> method <tt class="docutils literal"><span class="pre">is_referral()</span></tt> only checked if <tt class="docutils literal"><span class="pre">$_SERVER['HTTP_REFERER']</span></tt> exists.</li>
<li>Fixed a bug (#1146) - <a class="reference internal" href="helpers/download_helper.html"><em>Download Helper</em></a> function <a class="reference internal" href="helpers/download_helper.html#force_download" title="force_download"><tt class="xref php php-func docutils literal"><span class="pre">force_download()</span></tt></a> incorrectly sent <em>Cache-Control</em> directives <em>pre-check</em> and <em>post-check</em> to Internet Explorer.</li>
<li>Fixed a bug (#1811) - <a class="reference internal" href="libraries/uri.html"><em>URI Library</em></a> didn&#8217;t properly cache segments for <tt class="docutils literal"><span class="pre">uri_to_assoc()</span></tt> and <tt class="docutils literal"><span class="pre">ruri_to_assoc()</span></tt>.</li>
<li>Fixed a bug (#1506) - <a class="reference internal" href="helpers/form_helper.html"><em>Form Helpers</em></a> set empty <em>name</em> attributes.</li>
<li>Fixed a bug (#59) - <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> method <tt class="docutils literal"><span class="pre">count_all_results()</span></tt> ignored the DISTINCT clause.</li>
<li>Fixed a bug (#1624) - <a class="reference internal" href="libraries/form_validation.html"><em>Form Validation Library</em></a> rule <strong>matches</strong> didn&#8217;t property handle array field names.</li>
<li>Fixed a bug (#1630) - <a class="reference internal" href="helpers/form_helper.html"><em>Form Helper</em></a> function <a class="reference internal" href="helpers/form_helper.html#set_value" title="set_value"><tt class="xref php php-func docutils literal"><span class="pre">set_value()</span></tt></a> didn&#8217;t escape HTML entities.</li>
<li>Fixed a bug (#142) - <a class="reference internal" href="helpers/form_helper.html"><em>Form Helper</em></a> function <a class="reference internal" href="helpers/form_helper.html#form_dropdown" title="form_dropdown"><tt class="xref php php-func docutils literal"><span class="pre">form_dropdown()</span></tt></a> didn&#8217;t escape HTML entities in option values.</li>
<li>Fixed a bug (#50) - <a class="reference internal" href="libraries/sessions.html"><em>Session Library</em></a> unnecessarily stripped slashed from serialized data, making it impossible to read objects in a namespace.</li>
<li>Fixed a bug (#658) - <a class="reference internal" href="general/routing.html"><em>Routing</em></a> wildcard <strong>:any</strong> didn&#8217;t work as advertised and matched multiple URI segments instead of all characters within a single segment.</li>
<li>Fixed a bug (#1938) - <a class="reference internal" href="libraries/email.html"><em>Email Library</em></a> removed multiple spaces inside a pre-formatted plain text message.</li>
<li>Fixed a bug (#122) - <a class="reference internal" href="libraries/uri.html"><em>URI Library</em></a> method <tt class="docutils literal"><span class="pre">ruri_string()</span></tt> didn&#8217;t include a directory if one is used.</li>
<li>Fixed a bug - <a class="reference internal" href="general/routing.html"><em>Routing Library</em></a> didn&#8217;t properly handle <em>default_controller</em> in a subdirectory when a method is also specified.</li>
<li>Fixed a bug (#953) - <a class="reference internal" href="general/hooks.html"><em>post_controller_constructor hook</em></a> wasn&#8217;t called with a <em>404_override</em>.</li>
<li>Fixed a bug (#1220) - <a class="reference internal" href="general/profiling.html"><em>Profiler Library</em></a> didn&#8217;t display information for database objects that are instantiated inside models.</li>
<li>Fixed a bug (#1978) - <a class="reference internal" href="helpers/directory_helper.html"><em>Directory Helper</em></a> function <a class="reference internal" href="helpers/directory_helper.html#directory_map" title="directory_map"><tt class="xref php php-func docutils literal"><span class="pre">directory_map()</span></tt></a>&#8216;s return array didn&#8217;t make a distinction between directories and file indexes when a directory with a numeric name is present.</li>
<li>Fixed a bug (#777) - <a class="reference internal" href="libraries/loader.html"><em>Loader Library</em></a> didn&#8217;t look for helper extensions in added package paths.</li>
<li>Fixed a bug (#18) - <a class="reference internal" href="libraries/caching.html"><em>APC Cache</em></a> driver didn&#8217;t (un)serialize data, resulting in failure to store objects.</li>
<li>Fixed a bug (#188) - <a class="reference internal" href="libraries/unit_testing.html"><em>Unit Testing Library</em></a> filled up logs with error messages for non-existing language keys.</li>
<li>Fixed a bug (#113) - <a class="reference internal" href="libraries/form_validation.html"><em>Form Validation Library</em></a> didn&#8217;t properly handle empty fields that were specified as an array.</li>
<li>Fixed a bug (#2061) - <a class="reference internal" href="general/routing.html"><em>Routing Class</em></a> didn&#8217;t properly sanitize directory, controller and function triggers with <strong>enable_query_strings</strong> set to TRUE.</li>
<li>Fixed a bug - SQLSRV didn&#8217;t support <tt class="docutils literal"><span class="pre">escape_like_str()</span></tt> or escaping an array of values.</li>
<li>Fixed a bug - <a class="reference internal" href="database/results.html"><em>Database Results</em></a> method <tt class="docutils literal"><span class="pre">list_fields()</span></tt> didn&#8217;t reset its field pointer for the &#8216;mysql&#8217;, &#8216;mysqli&#8217; and &#8216;mssql&#8217; drivers.</li>
<li>Fixed a bug (#2211) - <a class="reference internal" href="libraries/migration.html"><em>Migration Library</em></a> extensions couldn&#8217;t execute <tt class="docutils literal"><span class="pre">CI_Migration::__construct()</span></tt>.</li>
<li>Fixed a bug (#2255) - <a class="reference internal" href="libraries/email.html"><em>Email Library</em></a> didn&#8217;t apply <em>smtp_timeout</em> to socket reads and writes.</li>
<li>Fixed a bug (#2239) - <a class="reference internal" href="libraries/email.html"><em>Email Library</em></a> improperly handled the Subject when used with <em>bcc_batch_mode</em> resulting in E_WARNING messages and an empty Subject.</li>
<li>Fixed a bug (#2234) - <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> didn&#8217;t reset JOIN cache for write-type queries.</li>
<li>Fixed a bug (#2298) - <a class="reference internal" href="database/results.html"><em>Database Results</em></a> method <tt class="docutils literal"><span class="pre">next_row()</span></tt> kept returning the last row, allowing for infinite loops.</li>
<li>Fixed a bug (#2236, #2639) - <a class="reference internal" href="helpers/form_helper.html"><em>Form Helper</em></a> functions <a class="reference internal" href="helpers/form_helper.html#set_value" title="set_value"><tt class="xref php php-func docutils literal"><span class="pre">set_value()</span></tt></a>, <a class="reference internal" href="helpers/form_helper.html#set_select" title="set_select"><tt class="xref php php-func docutils literal"><span class="pre">set_select()</span></tt></a>, <a class="reference internal" href="helpers/form_helper.html#set_radio" title="set_radio"><tt class="xref php php-func docutils literal"><span class="pre">set_radio()</span></tt></a>, <a class="reference internal" href="helpers/form_helper.html#set_checkbox" title="set_checkbox"><tt class="xref php php-func docutils literal"><span class="pre">set_checkbox()</span></tt></a> didn&#8217;t parse array notation for keys if the rule was not present in the <a class="reference internal" href="libraries/form_validation.html"><em>Form Validation Library</em></a>.</li>
<li>Fixed a bug (#2353) - <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> erroneously prefixed literal strings with <strong>dbprefix</strong>.</li>
<li>Fixed a bug (#78) - <a class="reference internal" href="libraries/cart.html"><em>Cart Library</em></a> didn&#8217;t allow non-English letters in product names.</li>
<li>Fixed a bug (#77) - <a class="reference internal" href="database/index.html"><em>Database Class</em></a> didn&#8217;t properly handle the transaction &#8220;test mode&#8221; flag.</li>
<li>Fixed a bug (#2380) - <a class="reference internal" href="general/routing.html"><em>URI Routing</em></a> method <tt class="docutils literal"><span class="pre">fetch_method()</span></tt> returned &#8216;index&#8217; if the requested method name matches its controller name.</li>
<li>Fixed a bug (#2388) - <a class="reference internal" href="libraries/email.html"><em>Email Library</em></a> used to ignore attachment errors, resulting in broken emails being sent.</li>
<li>Fixed a bug (#2498) - <a class="reference internal" href="libraries/form_validation.html"><em>Form Validation Library</em></a> rule <strong>valid_base64</strong> only checked characters instead of actual validity.</li>
<li>Fixed a bug (#2425) - OCI8 <a class="reference internal" href="database/index.html"><em>database</em></a> driver method <tt class="docutils literal"><span class="pre">stored_procedure()</span></tt> didn&#8217;t log an error unless <strong>db_debug</strong> was set to TRUE.</li>
<li>Fixed a bug (#2490) - <a class="reference internal" href="database/queries.html"><em>Database Class</em></a> method <tt class="docutils literal"><span class="pre">query()</span></tt> returning boolean instead of a result object for PostgreSQL-specific <em>INSERT INTO ... RETURNING</em> statements.</li>
<li>Fixed a bug (#249) - <a class="reference internal" href="libraries/caching.html"><em>Cache Library</em></a> didn&#8217;t properly handle Memcache(d) configurations with missing options.</li>
<li>Fixed a bug (#180) - <a class="reference internal" href="general/common_functions.html#config_item" title="config_item"><tt class="xref php php-func docutils literal"><span class="pre">config_item()</span></tt></a> didn&#8217;t take into account run-time configuration changes.</li>
<li>Fixed a bug (#2551) - <a class="reference internal" href="libraries/loader.html"><em>Loader Library</em></a> method <tt class="docutils literal"><span class="pre">library()</span></tt> didn&#8217;t properly check if a class that is being loaded already exists.</li>
<li>Fixed a bug (#2560) - <a class="reference internal" href="helpers/form_helper.html"><em>Form Helper</em></a> function <a class="reference internal" href="helpers/form_helper.html#form_open" title="form_open"><tt class="xref php php-func docutils literal"><span class="pre">form_open()</span></tt></a> set the &#8216;method=&#8221;post&#8221;&#8217; attribute only if the passed attributes equaled an empty string.</li>
<li>Fixed a bug (#2585) - <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> methods <tt class="docutils literal"><span class="pre">min()</span></tt>, <tt class="docutils literal"><span class="pre">max()</span></tt>, <tt class="docutils literal"><span class="pre">avg()</span></tt>, <tt class="docutils literal"><span class="pre">sum()</span></tt> didn&#8217;t escape field names.</li>
<li>Fixed a bug (#2590) - <a class="reference internal" href="general/common_functions.html"><em>Common function</em></a> <a class="reference internal" href="general/errors.html#log_message" title="log_message"><tt class="xref php php-func docutils literal"><span class="pre">log_message()</span></tt></a> didn&#8217;t actually cache the <tt class="docutils literal"><span class="pre">CI_Log</span></tt> class instance.</li>
<li>Fixed a bug (#2609) - <a class="reference internal" href="general/common_functions.html"><em>Common function</em></a> <tt class="xref php php-func docutils literal"><span class="pre">get_config()</span></tt> optional argument was only effective on first function call. Also, it can now add items, in addition to updating existing items.</li>
<li>Fixed a bug in the &#8216;postgre&#8217; <a class="reference internal" href="database/index.html"><em>database</em></a> driver where the connection ID wasn&#8217;t passed to <tt class="docutils literal"><span class="pre">pg_escape_string()</span></tt>.</li>
<li>Fixed a bug (#33) - Script execution was terminated when an invalid cookie key was encountered.</li>
<li>Fixed a bug (#2691) - nested <a class="reference internal" href="database/index.html"><em>database</em></a> transactions could end in a deadlock when an error is encountered with <em>db_debug</em> set to TRUE.</li>
<li>Fixed a bug (#2515) - <tt class="docutils literal"><span class="pre">_exception_handler()</span></tt> used to send the 200 &#8220;OK&#8221; HTTP status code and didn&#8217;t stop script exection even on fatal errors.</li>
<li>Fixed a bug - Redis <a class="reference internal" href="libraries/caching.html"><em>Caching</em></a> driver didn&#8217;t handle connection failures properly.</li>
<li>Fixed a bug (#2756) - <a class="reference internal" href="database/index.html"><em>Database Class</em></a> executed the MySQL-specific <cite>SET SESSION sql_mode</cite> query for all drivers when the &#8216;stricton&#8217; option is set.</li>
<li>Fixed a bug (#2579) - <a class="reference internal" href="database/query_builder.html"><em>Query Builder</em></a> &#8220;no escape&#8221; functionality didn&#8217;t work properly with query cache.</li>
<li>Fixed a bug (#2237) - <a class="reference internal" href="libraries/parser.html"><em>Parser Library</em></a> failed if the same tag pair is used more than once within a template.</li>
<li>Fixed a bug (#2143) - <a class="reference internal" href="libraries/form_validation.html"><em>Form Validation Library</em></a> didn&#8217;t check for rule groups named in a <em>controller/method</em> manner when trying to load from a config file.</li>
<li>Fixed a bug (#2762) - <a class="reference internal" href="general/hooks.html"><em>Hooks Class</em></a> didn&#8217;t properly check if the called class/function exists.</li>
<li>Fixed a bug (#148) - <a class="reference internal" href="libraries/input.html"><em>Input Library</em></a> internal method <tt class="docutils literal"><span class="pre">_clean_input_data()</span></tt> assumed that it data is URL-encoded, stripping certain character sequences from it.</li>
<li>Fixed a bug (#346) - with <tt class="docutils literal"><span class="pre">$config['global_xss_filtering']</span></tt> turned on, the <tt class="docutils literal"><span class="pre">$_GET</span></tt>, <tt class="docutils literal"><span class="pre">$_POST</span></tt>, <tt class="docutils literal"><span class="pre">$_COOKIE</span></tt> and <tt class="docutils literal"><span class="pre">$_SERVER</span></tt> superglobals were overwritten during initialization time, resulting in XSS filtering being either performed twice or there was no possible way to get the original data, even though options for this do exist.</li>
<li>Fixed an edge case (#555) - <a class="reference internal" href="libraries/user_agent.html"><em>User Agent Library</em></a> reported an incorrect version Opera 10+ due to a non-standard user-agent string.</li>
<li>Fixed a bug (#133) - <a class="reference internal" href="helpers/text_helper.html"><em>Text Helper</em></a> <a class="reference internal" href="helpers/text_helper.html#ascii_to_entities" title="ascii_to_entities"><tt class="xref php php-func docutils literal"><span class="pre">ascii_to_entities()</span></tt></a> stripped the last character if it happens to be in the extended ASCII group.</li>
<li>Fixed a bug (#2822) - <tt class="docutils literal"><span class="pre">fwrite()</span></tt> was used incorrectly throughout the whole framework, allowing incomplete writes when writing to a network stream and possibly a few othe